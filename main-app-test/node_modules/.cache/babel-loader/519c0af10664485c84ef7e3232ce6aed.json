{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"modal fade rounded-3\",\n  id: \"newImportDetail\",\n  tabindex: \"-1\"\n};\nconst _hoisted_2 = {\n  class: \"modal-dialog modal-xl\",\n  role: \"document\"\n};\nconst _hoisted_3 = {\n  class: \"modal-content\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-header bg-primary opacity-75\",\n  style: {\n    \"color\": \"white\",\n    \"font-size\": \"20px\"\n  }\n}, \" รายละเอียดใบรับ \", -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = {\n  class: \"modal-body\"\n};\nconst _hoisted_6 = {\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"col-4\",\n  style: {\n    \"text-align\": \"left\"\n  }\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", null, \"ขนาดยาง\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = [\"value\"];\nconst _hoisted_10 = {\n  class: \"col-3\",\n  style: {\n    \"text-align\": \"left\"\n  }\n};\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", null, \"ยี่ห้อยาง\", -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = [\"value\"];\nconst _hoisted_13 = {\n  class: \"col-2\",\n  style: {\n    \"text-align\": \"left\"\n  }\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", null, \"หมายเลขยาง(จากโครง)\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"col-3\",\n  style: {\n    \"text-align\": \"left\"\n  }\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", null, \"หมายเหตุ\", -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_18 = {\n  class: \"card border-dark shadow-lg mt-2\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\n\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header bg-primary\",\n  style: {\n    \"color\": \"white\",\n    \"text-align\": \"center\"\n  }\n}, \" ::: แสดงรายการ-รายละเอียดใบรับยาง ::: \", -1\n/* HOISTED */\n);\n\nconst _hoisted_20 = {\n  class: \"card-body\"\n};\nconst _hoisted_21 = {\n  id: \"showimportdetail\",\n  class: \"ms-2 table table-striped table-hover table-sm nowrap\",\n  style: {\n    \"width\": \"100%\",\n    \"align-items\": \"center\"\n  }\n};\n\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createCommentVNode(\" <th style=\\\"text-align: right\\\">\\r\\n                                    <button class=\\\"btn btn-success btn-sm\\\" title=\\\"เพิ่มข้อมูล\\\">\\r\\n                                        <font-awesome-icon icon=\\\"fa-solid fa-user-plus\\\" />\\r\\n                                    </button>\\r\\n                                </th> \"), /*#__PURE__*/_createCommentVNode(\" <th></th> \"), /*#__PURE__*/_createElementVNode(\"th\", null, \"ขนาดยาง\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"ยี่ห้อยาง\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"รหัสยาง\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"เพิ่มเติม\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_23 = {\n  class: \"table-group-divider\"\n};\nconst _hoisted_24 = {\n  style: {\n    \"text-align\": \"right\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Modal เพิ่มรายละเอียดใบรับ \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select\",\n    id: \"findSize\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => this.import_detail.rub_size_id = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.rubber_size, rubberSize => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: rubberSize.id,\n      value: rubberSize.id\n    }, _toDisplayString(rubberSize.rub_size_id) + \" > \" + _toDisplayString(rubberSize.rub_size_detail), 9\n    /* TEXT, PROPS */\n    , _hoisted_9);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, this.import_detail.rub_size_id]])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select\",\n    id: \"findBrand\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => this.import_detail.rub_brand_id = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.rubber_brand, rubberBrand => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: rubberBrand.rub_brand_id,\n      value: rubberBrand.rub_brand_id\n    }, _toDisplayString(rubberBrand.rub_brand_shotname) + \" > \" + _toDisplayString(rubberBrand.rub_brand_name), 9\n    /* TEXT, PROPS */\n    , _hoisted_12);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, this.import_detail.rub_brand_id]])]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => this.import_detail.manufac_id = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, this.import_detail.manufac_id]])]), _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => this.import_detail.import_detail_status = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, this.import_detail.import_detail_status]])])])]), _createElementVNode(\"div\", _hoisted_17, [_createCommentVNode(\" ปุ่มปิด \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers($event => {\n      $options.clearSelect2();\n      $options.hideModal('newImportDetail');\n    }, [\"prevent\"]))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"fa-solid fa-ban\"\n  }), _createTextVNode(\" ปิดหน้าต่าง \")]), _createCommentVNode(\" ปุ่มบันทึก \"), _createElementVNode(\"button\", {\n    id: \"btn\",\n    class: \"btn btn-primary\",\n    onClick: _cache[5] || (_cache[5] = _withModifiers($event => {\n      $options.saveImportDetail();\n    }, [\"prevent\"]))\n  }, [_createVNode(_component_font_awesome_icon, {\n    icon: \"fa-solid fa-circle-check\"\n  }), _createTextVNode(\" บันทึก \")])]), _createTextVNode(\" \" + _toDisplayString(this.import_detail), 1\n  /* TEXT */\n  )])])]), _createCommentVNode(\" End modal \"), _createCommentVNode(\" {{ this.import_header }} \"), _createCommentVNode(\" รายการในใบรับ \"), _createCommentVNode(\" <div class=\\\"container\\\"> \"), _createElementVNode(\"div\", _hoisted_18, [_hoisted_19, _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"table\", _hoisted_21, [_hoisted_22, _createElementVNode(\"tbody\", _hoisted_23, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.import_detail_list, rec => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: rec.import_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(rec.rub_size_id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(rec.rub_brand_name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(rec.manufac_id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(rec.import_detail_status), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_24, [_createElementVNode(\"button\", {\n      id: \"edit\",\n      class: \"btn btn-primary btn-sm\",\n      title: \"แก้ไขข้อมูล\",\n      onClick: _cache[6] || (_cache[6] = _withModifiers(() => {}, [\"prevent\"]))\n    }, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-pen\"\n    })])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])]), _createCommentVNode(\" </div> \")], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;EAGSA,KAAK,EAAC;EAAuBC,EAAE,EAAC;EAAkBC,QAAQ,EAAC;;;EACvDF,KAAK,EAAC;EAAwBG,IAAI,EAAC;;;EAC/BH,KAAK,EAAC;;;gCACPI,oBAEM,KAFN,EAEM;EAFDJ,KAAK,EAAC,oCAEL;EAF0CK,KAAqC,EAArC;IAAA;IAAA;EAAA;AAE1C,CAFN,EAAsF,mBAAtF,EAEA;AAAA;AAFA;;;EAGKL,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACFA,KAAK,EAAC;EAAQK,KAAwB,EAAxB;IAAA;EAAA;;;gCACfD,oBAAsB,OAAtB,EAAsB,IAAtB,EAAO,SAAP,EAAc;AAAA;AAAd;;;;EAOCJ,KAAK,EAAC;EAAQK,KAAwB,EAAxB;IAAA;EAAA;;;iCACfD,oBAAwB,OAAxB,EAAwB,IAAxB,EAAO,WAAP,EAAgB;AAAA;AAAhB;;;;EAQCJ,KAAK,EAAC;EAAQK,KAAwB,EAAxB;IAAA;EAAA;;;iCACfD,oBAAkC,OAAlC,EAAkC,IAAlC,EAAO,qBAAP,EAA0B;AAAA;AAA1B;;;EAGCJ,KAAK,EAAC;EAAQK,KAAwB,EAAxB;IAAA;EAAA;;;iCACfD,oBAAuB,OAAvB,EAAuB,IAAvB,EAAO,UAAP,EAAe;AAAA;AAAf;;;EAKPJ,KAAK,EAAC;;;EAqBlBA,KAAK,EAAC;EAAkCK,KAAmB,EAAnB;IAAA;EAAA;;;iCACzCD,oBAEM,KAFN,EAEM;EAFDJ,KAAK,EAAC,wBAEL;EAF8BK,KAAqC,EAArC;IAAA;IAAA;EAAA;AAE9B,CAFN,EAA0E,yCAA1E,EAEA;AAAA;AAFA;;;EAGKL,KAAK,EAAC;;;EACAC,EAAE,EAAC;EAAmBD,KAAK,EAAC;EAC/BK,KAAwC,EAAxC;IAAA;IAAA;EAAA;;;iCACAD,oBAaQ,OAbR,EAaQ,IAbR,EAaQ,cAZJA,oBAWK,IAXL,EAWK,IAXL,EAWK,cAVDE,0VAUC,eALDA,kCAKC,eAJDF,oBAAgB,IAAhB,EAAgB,IAAhB,EAAI,SAAJ,CAIC,eAHDA,oBAAkB,IAAlB,EAAkB,IAAlB,EAAI,WAAJ,CAGC,eAFDA,oBAAgB,IAAhB,EAAgB,IAAhB,EAAI,SAAJ,CAEC,eADDA,oBAAkB,IAAlB,EAAkB,IAAlB,EAAI,WAAJ,CACC,CAXL,CAYI,CAbR;;AAAA;;;EAcOJ,KAAK,EAAC;;;EAMDK,KAAyB,EAAzB;IAAA;EAAA;;;;;6DApFxBC,qDACAF,oBAiDM,KAjDN,cAiDM,CAhDFA,oBA+CM,KA/CN,cA+CM,CA9CFA,oBA6CM,KA7CN,cA6CM,CA5CFG,UA4CE,EAzCFH,oBA4BM,KA5BN,cA4BM,CA3BFA,oBA0BM,KA1BN,cA0BM,CAzBFA,oBAOM,KAPN,cAOM,CANFI,UAME,kBALFJ,oBAIS,QAJT,EAIS;IAJDJ,KAAK,EAAC,aAIL;IAJmBC,EAAE,EAAC,UAItB;oEAJ+CQ,cAAcC,cAAWC;EAIxE,CAJT,sBACIC,oBAESC,SAFT,EAES,IAFT,EAESC,YAFoBC,iBAEpB,EAFMC,UAAyB,IAAf;yBAAzBJ,oBAES,QAFT,EAES;MAFkCK,GAAG,EAAED,UAAU,CAACf,EAElD;MAFuDiB,KAAK,EAAEF,UAAU,CAACf;IAEzE,CAFT,mBACOe,UAAU,CAACN,eAAc,QAAGS,iBAAGH,UAAU,CAACI,eAAd,CADnC,EACgE;IAAA;IADhE,EACgEC,UADhE;GAES,CAFT;;EAAA,GADJ;;EAAA,yBAAwDZ,cAAcC,cAKpE,CAPN,CAyBE,EAjBFN,oBAQM,KARN,eAQM,CAPFkB,WAOE,kBANFlB,oBAKS,QALT,EAKS;IALDJ,KAAK,EAAC,aAKL;IALmBC,EAAE,EAAC,WAKtB;oEALgDQ,cAAcc,eAAYZ;EAK1E,CALT,sBACIC,oBAGSC,SAHT,EAGS,IAHT,EAGSC,YAHqBC,kBAGrB,EAHMS,WAA2B,IAAhB;yBAA1BZ,oBAGS,QAHT,EAGS;MAHoCK,GAAG,EAAEO,WAAW,CAACD,YAGrD;MAFJL,KAAK,EAAEM,WAAW,CAACD;IAEf,CAHT,mBAEOC,WAAW,CAACC,sBAAqB,QAAGN,iBAAGK,WAAW,CAACE,cAAf,CAF3C,EAEwE;IAAA;IAFxE,EAEwEC,WAFxE;GAGS,CAHT;;EAAA,GADJ;;EAAA,yBAAyDlB,cAAcc,eAMrE,CARN,CAiBE,EARFnB,oBAGM,KAHN,eAGM,CAFFwB,WAEE,kBADFxB,oBAAkF,OAAlF,EAAkF;IAA3EyB,IAAI,EAAC,MAAsE;IAA/D7B,KAAK,EAAC,cAAyD;oEAA5BS,cAAcqB,aAAUnB;EAAI,CAAlF;;EAAA,uBAAsDF,cAAcqB,aAClE,CAHN,CAQE,EAJF1B,oBAGM,KAHN,eAGM,CAFF2B,WAEE,kBADF3B,oBAA4F,OAA5F,EAA4F;IAArFyB,IAAI,EAAC,MAAgF;IAAzE7B,KAAK,EAAC,cAAmE;oEAAtCS,cAAcuB,uBAAoBrB;EAAI,CAA5F;;EAAA,uBAAsDF,cAAcuB,uBAClE,CAHN,CAIE,CA1BN,CA2BE,CA5BN,CAyCE,EAZF5B,oBAUM,KAVN,eAUM,CATFE,gCASE,EARFF,oBAGS,QAHT,EAGS;IAHDyB,IAAI,EAAC,QAGJ;IAHa7B,KAAK,EAAC,mBAGnB;IAFJiC,OAAK;MAAUC;MAAgBA,mBAAS,iBAAT;IAAS,CAAnC,EAAmC,WAAnC;EAED,CAHT,GAEIC,aAA4CC,4BAA5C,EAA4C;IAAzBC,IAAI,EAAC;EAAoB,CAA5C,oBAA4C,iBAFhD,CAQE,EAJF/B,mCAIE,EAHFF,oBAES,QAFT,EAES;IAFDH,EAAE,EAAC,KAEF;IAFQD,KAAK,EAAC,iBAEd;IAFiCiC,OAAK;MAAUC;IAAgB,CAA1B,EAA0B,WAA1B;EAEtC,CAFT,GACIC,aAAqDC,4BAArD,EAAqD;IAAlCC,IAAI,EAAC;EAA6B,CAArD,oBAAqD,YADzD,CAGE,CAVN,CAYE,mBAFI,MACNlB,sBAAQV,aAAR,GAAqB;EAAA;GACnB,CA7CN,CA8CE,CA/CN,CAgDE,CAjDN,GAkDAH,oCAEAA,mDAEAA,wCACAA,oDACAF,oBAoCM,KApCN,eAoCM,CAnCFkC,WAmCE,EAhCFlC,oBA+BM,KA/BN,eA+BM,CA9BFA,oBA6BQ,OA7BR,eA6BQ,CA3BJmC,WA2BI,EAbJnC,oBAYQ,OAZR,eAYQ,oBAXJQ,oBAUKC,SAVL,EAUK,IAVL,EAUKC,YAVaC,wBAUb,EAVMyB,GAAyB,IAAtB;yBAAd5B,oBAUK,IAVL,EAUK;MAVkCK,GAAG,EAAEuB,GAAG,CAACC;IAU3C,CAVL,GACIrC,oBAA8B,IAA9B,EAA8B,IAA9B,EAA8Be,iBAAvBqB,GAAG,CAAC9B,WAAmB,CAA9B,EAAsB;IAAA;IAAtB,GACAN,oBAAiC,IAAjC,EAAiC,IAAjC,EAAiCe,iBAA1BqB,GAAG,CAACd,cAAsB,CAAjC,EAAyB;IAAA;IAAzB,GACAtB,oBAA6B,IAA7B,EAA6B,IAA7B,EAA6Be,iBAAtBqB,GAAG,CAACV,UAAkB,CAA7B,EAAqB;IAAA;IAArB,GACA1B,oBAAuC,IAAvC,EAAuC,IAAvC,EAAuCe,iBAAhCqB,GAAG,CAACR,oBAA4B,CAAvC,EAA+B;IAAA;IAA/B,GACA5B,oBAIK,IAJL,eAIK,CAHDA,oBAES,QAFT,EAES;MAFDH,EAAE,EAAC,MAEF;MAFSD,KAAK,EAAC,wBAEf;MAFwC0C,KAAK,EAAC,aAE9C;MAF6DT,OAAK,2CAAN,OAAiB,CAAX,EAAW,WAAX;IAElE,CAFT,GACIE,aAA4CC,4BAA5C,EAA4C;MAAzBC,IAAI,EAAC;IAAoB,CAA5C,EADJ,CAGC,CAJL,EALJ;GAUK,CAVL;;EAAA,CAWI,EAZR,CAaI,CA7BR,CA8BE,CA/BN,CAgCE,CApCN,GAqCA/B","names":["class","id","tabindex","role","_createElementVNode","style","_createCommentVNode","_hoisted_4","_hoisted_8","import_detail","rub_size_id","$event","_createElementBlock","_Fragment","_renderList","$data","rubberSize","key","value","_toDisplayString","rub_size_detail","_hoisted_9","_hoisted_11","rub_brand_id","rubberBrand","rub_brand_shotname","rub_brand_name","_hoisted_12","_hoisted_14","type","manufac_id","_hoisted_16","import_detail_status","onClick","$options","_createVNode","_component_font_awesome_icon","icon","_hoisted_19","_hoisted_22","rec","import_id","title"],"sourceRoot":"","sources":["D:\\Project-vue\\SPR-PROJECT\\main-app-test\\src\\components\\importWork.vue"],"sourcesContent":["// ทำใบรับยางสำหรับการจ้างอัด\r\n<template>\r\n    <!-- Modal เพิ่มรายละเอียดใบรับ -->\r\n    <div class=\"modal fade rounded-3\" id=\"newImportDetail\" tabindex=\"-1\">\r\n        <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header bg-primary opacity-75\" style=\"color:white ;font-size:20px ;\">\r\n                    รายละเอียดใบรับ\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-4\" style=\"text-align:left;\">\r\n                            <label>ขนาดยาง</label>\r\n                            <select class=\"form-select\" id=\"findSize\" v-model=\"this.import_detail.rub_size_id\">\r\n                                <option v-for=\"rubberSize in rubber_size\" :key=\"rubberSize.id\" :value=\"rubberSize.id\">\r\n                                    {{ rubberSize.rub_size_id }} > {{ rubberSize.rub_size_detail }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-3\" style=\"text-align:left;\">\r\n                            <label>ยี่ห้อยาง</label>\r\n                            <select class=\"form-select\" id=\"findBrand\" v-model=\"this.import_detail.rub_brand_id\">\r\n                                <option v-for=\"rubberBrand in rubber_brand\" :key=\"rubberBrand.rub_brand_id\"\r\n                                    :value=\"rubberBrand.rub_brand_id\">\r\n                                    {{ rubberBrand.rub_brand_shotname }} > {{ rubberBrand.rub_brand_name }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-2\" style=\"text-align:left;\">\r\n                            <label>หมายเลขยาง(จากโครง)</label>\r\n                            <input type=\"text\" class=\"form-control\" v-model=\"this.import_detail.manufac_id\" />\r\n                        </div>\r\n                        <div class=\"col-3\" style=\"text-align:left;\">\r\n                            <label>หมายเหตุ</label>\r\n                            <input type=\"text\" class=\"form-control\" v-model=\"this.import_detail.import_detail_status\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <!-- ปุ่มปิด -->\r\n                    <button type=\"button\" class=\"btn btn-secondary\"\r\n                        @click.prevent=\"clearSelect2(); hideModal('newImportDetail')\">\r\n                        <font-awesome-icon icon=\"fa-solid fa-ban\" />&nbsp;ปิดหน้าต่าง\r\n                    </button>\r\n                    <!-- ปุ่มบันทึก -->\r\n                    <button id=\"btn\" class=\"btn btn-primary\" @click.prevent=\"saveImportDetail();\">\r\n                        <font-awesome-icon icon=\"fa-solid fa-circle-check\" />&nbsp;บันทึก\r\n                    </button>\r\n                </div>\r\n                {{ this.import_detail }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- End modal -->\r\n    \r\n    <!-- {{ this.import_header }} -->\r\n\r\n    <!-- รายการในใบรับ -->\r\n    <!-- <div class=\"container\"> -->\r\n    <div class=\"card border-dark shadow-lg mt-2\" style=\"width: 100%\">\r\n        <div class=\"card-header bg-primary\" style=\"color:white;text-align:center\">\r\n            ::: แสดงรายการ-รายละเอียดใบรับยาง :::\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <table id=\"showimportdetail\" class=\"ms-2 table table-striped table-hover table-sm nowrap\"\r\n                style=\"width: 100%; align-items: center\">\r\n                <thead>\r\n                    <tr>\r\n                        <!-- <th style=\"text-align: right\">\r\n                                    <button class=\"btn btn-success btn-sm\" title=\"เพิ่มข้อมูล\">\r\n                                        <font-awesome-icon icon=\"fa-solid fa-user-plus\" />\r\n                                    </button>\r\n                                </th> -->\r\n                        <!-- <th></th> -->\r\n                        <th>ขนาดยาง</th>\r\n                        <th>ยี่ห้อยาง</th>\r\n                        <th>รหัสยาง</th>\r\n                        <th>เพิ่มเติม</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody class=\"table-group-divider\">\r\n                    <tr v-for=\"rec in import_detail_list\" :key=\"rec.import_id\">\r\n                        <td>{{ rec.rub_size_id }}</td>\r\n                        <td>{{ rec.rub_brand_name }}</td>\r\n                        <td>{{ rec.manufac_id }}</td>\r\n                        <td>{{ rec.import_detail_status }}</td>\r\n                        <td style=\"text-align: right\">\r\n                            <button id=\"edit\" class=\"btn btn-primary btn-sm\" title=\"แก้ไขข้อมูล\" @click.prevent=\"\">\r\n                                <font-awesome-icon icon=\"fa-solid fa-pen\" />\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <!-- </div> -->\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\"\r\nimport axios from \"@/axios\"\r\nimport { Modal } from \"bootstrap\"\r\nimport { ref } from \"vue\"\r\n\r\nexport default {\r\n    setup() {\r\n        const date = ref(new Date());\r\n        const format = (date) => {\r\n            const d = date.getDate();\r\n            const m = date.getMonth() + 1;\r\n            const y = date.getFullYear();\r\n            return `${d}/${m}/${y}`;\r\n        }\r\n        return {\r\n            date, format\r\n        }\r\n    },\r\n    components: {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            cust_name: \"\",\r\n            cust_addr: \"\",\r\n            cust_tel: \"\",\r\n            check_bill_header: [],\r\n            customer_data: [],\r\n            rubber_size: [],\r\n            rubber_brand: [],\r\n            import_header: {\r\n                import_id: \"\",\r\n                import_book_id: \"\",\r\n                import_book_no: \"\",\r\n                import_user: \"\",\r\n                cust_auto_id: \"\",\r\n                import_type_id: \"\",\r\n                import_date: \"\",\r\n                import_status: \"\",\r\n            },\r\n            import_detail_list: [],\r\n            import_detail: {\r\n                import_id: \"\",\r\n                rub_size_id: \"\",\r\n                rub_brand_id: \"\",\r\n                manufac_id: \"\",\r\n                import_detail_status: \"\",\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        let import_book_id = sessionStorage.getItem(\"import_book_id\");\r\n        let import_book_no = sessionStorage.getItem(\"import_book_no\");\r\n        if (import_book_id != null && import_book_no != null) {\r\n            this.chkImportHeader(import_book_id, import_book_no);\r\n        } else {\r\n            let import_id = sessionStorage.getItem(\"import_id\");\r\n            this.import_detail.import_id = import_id;\r\n            this.chkImportHeaderById(import_id);\r\n            this.getImportDetail(import_id);\r\n        }\r\n    },\r\n    beforeUnmount() {\r\n        sessionStorage.clear();\r\n    },\r\n    methods: {\r\n        showDatePicker() {\r\n            let data = this.import_header;\r\n            $(document).ready(() => {\r\n                $('#datepicker').datepicker({\r\n                    format: \"dd/mm/yyyy\",\r\n                    autoclose: true,\r\n                    toggleActive: true,\r\n                });\r\n                $('#datepicker').change(() => {\r\n                    data.import_date = $('#datepicker').val();\r\n                })\r\n            });\r\n        },\r\n        convertDateToMySql(isdate) {\r\n            const convertdate = isdate.split(\"/\");\r\n            let dateToMySql = convertdate[2] + \"-\" + convertdate[1] + \"-\" + convertdate[0];\r\n            return dateToMySql;\r\n        },\r\n        onSelect2_Size() {\r\n            $(document).ready(() => {\r\n                let rec = this.import_detail;\r\n                $('#findSize').select2({\r\n                    theme: \"bootstrap-5\",\r\n                    closeOnSelect: true,\r\n                    width: '100%',\r\n                    dropdownParent: $(\"#findSize\").parent(),\r\n                    placeholder: \"--- เลือกขนาดยาง ---\",\r\n                });\r\n                $('#findSize').on('select2:select', (e) => {\r\n                    let data = e.params.data;\r\n                    rec.rub_size_id = data.id;\r\n                })\r\n            });\r\n        },\r\n        clearSelect2() {\r\n            $(document).ready(() => {\r\n                $('#findSize').val(\"\");\r\n            })\r\n        },\r\n        getUseData() {\r\n            this.getRubberSize();\r\n            this.getRubberBrand();\r\n        },\r\n        async chkImportHeader(val1, val2) {\r\n            await axios.get(`billimport/search/${val1}/${val2}`).then((response) => {\r\n                // this.check_bill_header = response.data;\r\n                this.import_header.import_id = response.data[0].import_id;\r\n                this.import_header.import_book_id = response.data[0].import_book_id;\r\n                this.import_header.import_book_no = response.data[0].import_book_no;\r\n                this.import_header.import_user = response.data[0].import_user;\r\n                this.import_header.cust_auto_id = response.data[0].cust_auto_id;\r\n                this.import_header.import_type_id = response.data[0].import_type_id;\r\n                this.import_header.import_date = response.data[0].new_import_date;\r\n                this.import_header.import_status = response.data[0].import_status;\r\n            });\r\n        },\r\n        async chkImportHeaderById(val) {\r\n            await axios.get(`billimport/searchid/${val}`).then((response) => {\r\n                // this.check_bill_header = response.data;\r\n                this.import_header.import_id = response.data[0].import_id;\r\n                this.import_header.import_book_id = response.data[0].import_book_id;\r\n                this.import_header.import_book_no = response.data[0].import_book_no;\r\n                this.import_header.import_user = response.data[0].import_user;\r\n                this.import_header.cust_auto_id = response.data[0].cust_auto_id;\r\n                this.import_header.import_type_id = response.data[0].import_type_id;\r\n                this.import_header.import_date = response.data[0].new_import_date;\r\n                this.dd = this.import_header.import_date.substring(0, 2);\r\n                this.mm = this.import_header.import_date.substring(3, 5);\r\n                this.yy = this.import_header.import_date.substring(6, 10);\r\n                this.import_header.import_status = response.data[0].import_status;\r\n                this.cust_name = response.data[0].customerName;\r\n                this.cust_addr = response.data[0].customerAddr;\r\n                this.cust_tel = response.data[0].customerTel;\r\n            });\r\n        },\r\n        newImportDetail() {\r\n            if ((this.import_header.import_book_id == null) ||\r\n                (this.import_header.import_book_no == null) ||\r\n                (this.import_header.import_date == null)) {\r\n                alert('ข้อมูลหลักไม่ครบถ้วน.,กรุณาตรวจสอบ !!!')\r\n                // document.getElementById(\"book_id\").value = 'xxx';\r\n                document.getElementById(\"book_id\").focus();\r\n                document.getElementById(\"book_id\").select();\r\n                //document.getElementById(\"book_no\").disabled = true;             \r\n            } else {\r\n                this.onSelect2_Size();\r\n                this.getUseData();\r\n                this.showModal('newImportDetail');\r\n            }\r\n        },\r\n        saveImportDetail() {\r\n            if (confirm(\"ยืนยันการบันทึกรายการ\") == true) {\r\n                axios.post(`billimport/detail/new`, this.import_detail).then(() => {\r\n                    this.import_detail = {\r\n                        import_id: \"\",\r\n                        rub_size_id: \"\",\r\n                        rub_brand_id: \"\",\r\n                        manufac_id: \"\",\r\n                        import_detail_status: \"\"\r\n                    };\r\n                }).catch((error) => {\r\n                    console.log(error);\r\n                });\r\n                this.hideModal(\"newImportDetail\");\r\n                // alert(this.import_header.import_id);\r\n                $(\"#showimportdetail\").DataTable().destroy();\r\n                this.getImportDetail(this.import_header.import_id);\r\n            }\r\n        },\r\n        getImportDetail(val) {\r\n            axios.get(`billimport/detail/read/${val}`).then((response) => {\r\n                this.import_detail_list = response.data;\r\n                $(document).ready(function () {\r\n                    $(\"#showimportdetail\").DataTable({\r\n                        \"scrollY\": '250px',\r\n                        bJQueryUI: true,\r\n                        sPaginationType: \"full_numbers\",\r\n                        language: {\r\n                            decimal: \"\",\r\n                            emptyTable: \"ไม่พบการข้อมูลจากฐานข้อมูล\",\r\n                            info: \"พบข้อมูล _TOTAL_ เรคอร์ด\",\r\n                            // \"info\": \"แสดง _START_ - _END_ แถว จากทั้งหมด _TOTAL_ แถว\",\r\n                            infoEmpty: \"ไม่พบข้อมูลที่ค้นหา\",\r\n                            infoFiltered: \"(จากข้อมูลทั้งหมด _MAX_ เรคอร์ด)\",\r\n                            infoPostFix: \"\",\r\n                            thousands: \",\",\r\n                            lengthMenu: \"แสดงครั้งละ _MENU_ เรคอร์ด\",\r\n                            loadingRecords: \"Loading...\",\r\n                            processing: \"\",\r\n                            search: \"ค้นหาข้อมูล:\",\r\n                            zeroRecords: \"ไม่พบข้อมูลที่ค้นหา\",\r\n                            paginate: {\r\n                                first: \"หน้าแรก\",\r\n                                last: \"หน้าสุดท้าย\",\r\n                                next: \"ต่อไป\",\r\n                                previous: \"ย้อนกลับ\",\r\n                            },\r\n                            aria: {\r\n                                sortAscending: \": activate to sort column ascending\",\r\n                                sortDescending: \": activate to sort column descending\",\r\n                            },\r\n                        },\r\n                    });\r\n                });\r\n\r\n                // this.setDatatables();\r\n            });\r\n        },\r\n        setDatatables() {\r\n            $(document).ready(function () {\r\n                $(\"#showimportdetail\").DataTable({\r\n                    \"scrollY\": '250px',\r\n                    bJQueryUI: true,\r\n                    sPaginationType: \"full_numbers\",\r\n                    language: {\r\n                        decimal: \"\",\r\n                        emptyTable: \"ไม่พบการข้อมูลจากฐานข้อมูล\",\r\n                        info: \"พบข้อมูล _TOTAL_ เรคอร์ด\",\r\n                        // \"info\": \"แสดง _START_ - _END_ แถว จากทั้งหมด _TOTAL_ แถว\",\r\n                        infoEmpty: \"ไม่พบข้อมูลที่ค้นหา\",\r\n                        infoFiltered: \"(จากข้อมูลทั้งหมด _MAX_ เรคอร์ด)\",\r\n                        infoPostFix: \"\",\r\n                        thousands: \",\",\r\n                        lengthMenu: \"แสดงครั้งละ _MENU_ เรคอร์ด\",\r\n                        loadingRecords: \"Loading...\",\r\n                        processing: \"\",\r\n                        search: \"ค้นหาข้อมูล:\",\r\n                        zeroRecords: \"ไม่พบข้อมูลที่ค้นหา\",\r\n                        paginate: {\r\n                            first: \"หน้าแรก\",\r\n                            last: \"หน้าสุดท้าย\",\r\n                            next: \"ต่อไป\",\r\n                            previous: \"ย้อนกลับ\",\r\n                        },\r\n                        aria: {\r\n                            sortAscending: \": activate to sort column ascending\",\r\n                            sortDescending: \": activate to sort column descending\",\r\n                        },\r\n                    },\r\n                });\r\n            });\r\n        },\r\n        getCustomer(val) {\r\n            axios.get(`customer/findbyautoid/${val}`).then((response) => {\r\n                // this.customer_data = response.data;\r\n                // console.log(response.data[0].cust_auto_id);\r\n                this.import_header = {\r\n                    cust_auto_id: response.data[0].cust_auto_id\r\n                }\r\n                if (response.data[0].cust_auto_id == 1) { this.import_header.import_type_id = 2 }\r\n                else this.import_header.import_type_id = 1\r\n\r\n                this.cust_name = response.data[0].customerName\r\n                this.cust_addr = response.data[0].customerAddr\r\n                this.cust_tel = response.data[0].customerTel\r\n            });\r\n        },\r\n        getRubberSize() {\r\n            axios.get(`rubbersize/read`).then((response) => {\r\n                this.rubber_size = response.data;\r\n            });\r\n        },\r\n        getRubberBrand() {\r\n            axios.get(`rubberbrand/read`).then((response) => {\r\n                this.rubber_brand = response.data;\r\n            });\r\n        },\r\n        async showModal(e) {\r\n            let myModal = await new Modal(document.getElementById(e))\r\n            await myModal.show()\r\n        },\r\n        async hideModal(e) {\r\n            await $(`#${e}`).removeClass(\"in\");\r\n            await $(\".modal-backdrop\").remove();\r\n            await $(`#${e}`).hide();\r\n        },\r\n    },\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}