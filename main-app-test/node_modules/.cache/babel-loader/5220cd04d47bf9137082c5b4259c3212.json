{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"@/axios\";\nimport $ from \"jquery\";\nimport { Modal } from \"bootstrap\";\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      data_row: [],\n      province_id: [],\n      newRec: {\n        customerId: \"\",\n        customerName: \"\",\n        customerAddr: \"\",\n        provinceId: \"\",\n        postCode: \"\",\n        customerTel: \"\",\n        contactName: \"\",\n        contactTel: \"\",\n        contactPosition: \"\",\n        payType: \"\",\n        creditDay: \"\",\n        creditLimit: \"\",\n        priceType: \"\",\n        remark: \"\",\n        customerDel: \"\"\n      },\n      editCustomer: {\n        customerId: \"\",\n        customerName: \"\",\n        customerAddr: \"\",\n        provinceId: \"\",\n        postCode: \"\",\n        customerTel: \"\",\n        contactName: \"\",\n        contactTel: \"\",\n        contactPosition: \"\",\n        payType: \"\",\n        creditDay: \"\",\n        creditLimit: \"\",\n        priceType: \"\",\n        remark: \"\",\n        customerDel: \"\"\n      }\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    inputFocus(Modal, InputModal) {\n      const myModal = document.getElementById(Modal);\n      const myInput = document.getElementById(InputModal);\n      myModal.addEventListener(\"shown.bs.modal\", () => {\n        myInput.focus();\n      });\n    },\n\n    newCustomer() {\n      this.$router.push(\"/newcustomer\");\n    },\n\n    // closeModal(val) {\n    //      $(val).removeClass(\"in\");\n    //      $(\".modal-backdrop\").remove();\n    //      $(val).hide();\n    // },\n    editCustomer_Modal(val) {\n      this.editCustomer.customerId = val.customerId;\n      this.editCustomer.customerName = val.customerName;\n      this.editCustomer.customerAddr = val.customerAddr;\n      this.editCustomer.provinceId = val.provinceId;\n      this.editCustomer.postCode = val.postCode;\n      this.editCustomer.customerTel = val.customerTel;\n      this.editCustomer.contactName = val.contactName;\n      this.editCustomer.contactTel = val.contactTel;\n      this.editCustomer.contactPosition = val.contactPosition;\n      this.editCustomer.payType = val.payType;\n      this.editCustomer.creditDay = val.creditDay;\n      this.editCustomer.creditLimit = val.creditLimit;\n      this.editCustomer.priceType = val.priceType;\n      this.editCustomer.remark = val.remark;\n      this.editCustomer.customerDel = val.customerDel;\n      this.showModal(\"editCustModal\"); //this.inputFocus(\"editCustModal\", \"input_name\");\n    },\n\n    async saveNewrec() {\n      // await axios.post(`${apiURL}/customer/new`, this.newRec).then(() => {\n      await axios.post(`customer/new`, this.newRec).then(() => {\n        this.newRec = {\n          customerId: \"\",\n          customerName: \"\",\n          customerAddr: \"\",\n          provinceId: \"\",\n          postCode: \"\",\n          customerTel: \"\",\n          contactName: \"\",\n          contactTel: \"\",\n          contactPosition: \"\",\n          payType: \"\",\n          creditDay: \"\",\n          creditLimit: \"\",\n          priceType: \"\",\n          remark: \"\",\n          customerDel: \"\"\n        };\n        this.$router.push(\"/showcustomer\");\n        console.log(\"Process success!\");\n      }).catch(error => {\n        console.log(error);\n      });\n      this.$router.push(\"/\");\n    },\n\n    async saveEditCustomer() {\n      //let editModal = document.getElementById('editCustModal')\n      if (confirm(\"ยืนยันการเปลี่ยนแปลงข้อมูล ?\") == true) {\n        await axios.post(`customer/update`, this.editCustomer).then(() => {\n          this.editCustomer = {\n            customerId: \"\",\n            customerName: \"\",\n            customerAddr: \"\",\n            provinceId: \"\",\n            postCode: \"\",\n            customerTel: \"\",\n            contactName: \"\",\n            contactTel: \"\",\n            contactPosition: \"\",\n            payType: \"\",\n            creditDay: \"\",\n            creditLimit: \"\",\n            priceType: \"\",\n            remark: \"\",\n            customerDel: \"\"\n          }; // สั่งปิด Modal ก่อนที่จะทำการรีโหลดดาต้า\n          // $(\"#editCustModal\").removeClass(\"in\");\n          // $(\".modal-backdrop\").remove();\n          // $(\"#editCustModal\").hide();\n\n          this.hideModal(\"editCustModal\"); // ---------------------------------\n\n          $(\"#showcustomer\").DataTable().destroy(); //--- ทำลาย Datatable\n\n          this.getData(); // axios.get(`customer/read`).then((response) => {\n          //      this.data_row = response.data;\n          //      $(document).ready(function () {\n          //           $(\"#showcustomer\").DataTable();\n          //      });\n          // });\n\n          console.log(\"Process success!\");\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    },\n\n    async getData() {\n      await axios.get(`customer/read`).then(response => {\n        this.data_row = response.data;\n        $(document).ready(function () {\n          $(\"#showcustomer\").DataTable({\n            // \"fnRowCallback\": function (nRow, aData,) { // เช็คเงื่อนไขในแต่ละเรคคอร์ด\n            //      if (aData[3] == \"handsome\") {\n            //           $('td', nRow).css('color', 'Red');\n            //      }\n            // }\n            //\"dom\": 'Bfrtip',\n            //\"buttons\": ['excel', 'pdf'],                             \n            \"bJQueryUI\": true,\n            \"sPaginationType\": \"full_numbers\",\n            \"language\": {\n              \"decimal\": \"\",\n              \"emptyTable\": \"ไม่พบการข้อมูลจากฐานข้อมูล\",\n              \"info\": \"พบข้อมูล _TOTAL_ เรคอร์ด\",\n              // \"info\": \"แสดง _START_ - _END_ แถว จากทั้งหมด _TOTAL_ แถว\",\n              \"infoEmpty\": \"ไม่พบข้อมูลที่ค้นหา\",\n              \"infoFiltered\": \"(จากข้อมูลทั้งหมด _MAX_ เรคอร์ด)\",\n              \"infoPostFix\": \"\",\n              \"thousands\": \",\",\n              \"lengthMenu\": \"แสดงครั้งละ _MENU_ เรคอร์ด\",\n              \"loadingRecords\": \"Loading...\",\n              \"processing\": \"\",\n              \"search\": \"ค้นหาข้อมูล:\",\n              \"zeroRecords\": \"ไม่พบข้อมูลที่ค้นหา\",\n              \"paginate\": {\n                \"first\": \"หน้าแรก\",\n                \"last\": \"หน้าสุดท้าย\",\n                \"next\": \"ต่อไป\",\n                \"previous\": \"ย้อนกลับ\"\n              },\n              \"aria\": {\n                \"sortAscending\": \": activate to sort column ascending\",\n                \"sortDescending\": \": activate to sort column descending\"\n              }\n            }\n          });\n        });\n      });\n      await axios.get(`province/read`).then(response => {\n        this.province_id = response.data;\n      });\n    },\n\n    async showModal(e) {\n      let myModal = await new Modal(document.getElementById(e));\n      await myModal.show();\n    },\n\n    async hideModal(e) {\n      await $(`#${e}`).removeClass(\"in\");\n      await $(\".modal-backdrop\").remove();\n      await $(`#${e}`).hide();\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","$","Modal","data","isLoading","data_row","province_id","newRec","customerId","customerName","customerAddr","provinceId","postCode","customerTel","contactName","contactTel","contactPosition","payType","creditDay","creditLimit","priceType","remark","customerDel","editCustomer","created","getData","methods","inputFocus","InputModal","myModal","document","getElementById","myInput","addEventListener","focus","newCustomer","$router","push","editCustomer_Modal","val","showModal","saveNewrec","post","then","console","log","catch","error","saveEditCustomer","confirm","hideModal","DataTable","destroy","get","response","ready","e","show","removeClass","remove","hide"],"sourceRoot":"","sources":["D:\\Project-vue\\SPR-PROJECT\\main-app-test\\src\\components\\showCustomer.vue"],"sourcesContent":["<template>\r\n     <Loading v-model:active=\"isLoading\" />\r\n     <!-- <button type=\"button\" class=\"btn btn-primary mt-2\" data-bs-toggle=\"modal\" data-bs-target=\"#add_popup\"\r\n          data-bs-whatever=\"@mdo\">เพิ่มข้อมูลใหม่</button> -->\r\n     <!-- Modal สำหรับการเพิ่มข้อมูลใหม่ -->\r\n\r\n     <!-- สิ้นสุดการเพิ่มข้อมูลใหม่ -->\r\n\r\n     <!-- Modal สำหรับการแก้ไขข้อมูล -->\r\n     <div class=\"modal fade rounded-3\" id=\"editCustModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\"\r\n          aria-hidden=\"true\">\r\n          <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n               <div class=\"modal-content\">\r\n                    <div class=\"modal-header bg-primary\">\r\n                         <h1 class=\"modal-title fs-5\" style=\"color: white\" id=\"exampleModalLabel\">\r\n                              ดูรายละเอียด / แก้ไข\r\n                         </h1>\r\n                         <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                         <form>\r\n                              <div class=\"card-body\">\r\n                                   <div class=\"form-group\">\r\n                                        <div class=\"row\">\r\n                                             <div class=\"col\">\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <input type=\"text\" class=\"form-control\"\r\n                                                            v-model.trim=\"editCustomer.customerId\"\r\n                                                            placeholder=\"รหัสลูกค้า\" disabled />\r\n                                                       <label for=\"floatingInput\" style=\"color: red\">*รหัสลูกค้า</label>\r\n                                                  </div>\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <input type=\"text\" id=\"input_name\" class=\"form-control\"\r\n                                                            v-model.trim=\"editCustomer.customerName\" required\r\n                                                            placeholder=\"ชื่อลูกค้า\" />\r\n                                                       <label for=\"floatingInput\" style=\"color: red\">*ชื่อลูกค้า</label>\r\n                                                  </div>\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <input type=\"text\" class=\"form-control\"\r\n                                                            v-model.trim=\"editCustomer.customerAddr\"\r\n                                                            placeholder=\"ที่อยู่ลูกค้า\" />\r\n                                                       <label for=\"floatingInput\">ที่อยู่ลูกค้า</label>\r\n                                                  </div>\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <select class=\"form-select\" v-model=\"editCustomer.provinceId\"\r\n                                                            aria-label=\"จังหวัด\">\r\n                                                            <option v-for=\"province in province_id\"\r\n                                                                 :key=\"province.PROVINCE_ID\"\r\n                                                                 :value=\"province.PROVINCE_ID\">\r\n                                                                 {{ province.PROVINCE_NAME }}\r\n                                                            </option>\r\n                                                       </select>\r\n                                                       <label for=\"floatingSelect\">จังหวัด</label>\r\n                                                  </div>\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <input type=\"text\" class=\"form-control\"\r\n                                                            v-model=\"editCustomer.postCode\"\r\n                                                            placeholder=\"รหัสไปรษณีย์\" />\r\n                                                       <label for=\"floatingInput\">รหัสไปรษณีย์</label>\r\n                                                  </div>\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <input type=\"text\" class=\"form-control\"\r\n                                                            v-model=\"editCustomer.customerTel\"\r\n                                                            placeholder=\"เบอร์ติดต่อ\" />\r\n                                                       <label for=\"floatingInput\">เบอร์โทรศัพท์</label>\r\n                                                  </div>\r\n                                             </div>\r\n                                             <div class=\"col-md-6\">\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <input type=\"text\" class=\"form-control\"\r\n                                                            v-model=\"editCustomer.contactName\"\r\n                                                            placeholder=\"ชื่อผู้ติดต่อ\" />\r\n                                                       <label for=\"floatingInput\">ชื่อผู้ติดต่อ</label>\r\n                                                  </div>\r\n                                                  <div class=\"input-group mb-2\">\r\n                                                       <div class=\"form-floating\">\r\n                                                            <input type=\"text\" class=\"form-control\"\r\n                                                                 v-model=\"editCustomer.contactTel\"\r\n                                                                 placeholder=\"เบอร์ผู้ติดต่อ\" />\r\n                                                            <label for=\"floatingInput\">เบอร์โทรผู้ติดต่อ</label>\r\n                                                       </div>\r\n                                                       <span class=\"input-group-text\"></span>\r\n                                                       <div class=\"form-floating\">\r\n                                                            <input type=\"text\" class=\"form-control\"\r\n                                                                 v-model=\"editCustomer.contactPosition\"\r\n                                                                 placeholder=\"ตำแหน่งผู้ติดต่อ\" />\r\n                                                            <label for=\"floatingInput\">ตำแหน่งผู้ติดต่อ</label>\r\n                                                       </div>\r\n                                                  </div>\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <select class=\"form-select\" @change=\"setCreditday\"\r\n                                                            v-model=\"editCustomer.payType\"\r\n                                                            aria-label=\"Floating label select example\">\r\n                                                            <option value=\"1\">เงินสด</option>\r\n                                                            <option value=\"2\">เครดิต</option>\r\n                                                       </select>\r\n                                                       <label for=\"floatingSelect\">ประเภทการชำระเงิน</label>\r\n                                                  </div>\r\n                                                  <!-- ตรวจสอบสิทธิ์ในการเครดิต -->\r\n                                                  <div class=\"input-group mb-2\" v-if=\"editCustomer.payType == 2\">\r\n                                                       <div class=\"form-floating\">\r\n                                                            <input type=\"number\" class=\"form-control\" id=\"CreditDay\"\r\n                                                                 placeholder=\"เครดิต\"\r\n                                                                 v-model=\"editCustomer.creditDay\" />\r\n                                                            <label for=\"CreditDay\">เครดิต</label>\r\n                                                       </div>\r\n                                                       <span class=\"input-group-text\">วัน</span>\r\n                                                       <div class=\"form-floating\">\r\n                                                            <input type=\"number\" class=\"form-control\"\r\n                                                                 id=\"editCustomer.creditLimit\" placeholder=\"เครดิต\"\r\n                                                                 v-model=\"editCustomer.creditLimit\" />\r\n                                                            <label for=\"CreditDay\">วงเงิน</label>\r\n                                                       </div>\r\n                                                       <span class=\"input-group-text\">บาท</span>\r\n                                                  </div>\r\n                                                  <!-- สิ้นสุดตรวจสอบสิทธิ์ในการเครดิต -->\r\n                                                  <div class=\"form-floating mb-2 mt-2\">\r\n                                                       <select class=\"form-select\" id=\"floatingSelect\"\r\n                                                            aria-label=\"Floating label select example\"\r\n                                                            v-model=\"editCustomer.priceType\">\r\n                                                            <option value=\"1\">เงินสด</option>\r\n                                                            <option value=\"2\">เงินสด+จัดส่ง</option>\r\n                                                            <option value=\"3\">เครดิต</option>\r\n                                                            <option value=\"4\">ราคาพิเศษ</option>\r\n                                                       </select>\r\n                                                       <label for=\"floatingSelect\">ประเภทราคาที่</label>\r\n                                                  </div>\r\n                                                  <div class=\"form-floating mb-2\">\r\n                                                       <textarea class=\"form-control\"\r\n                                                            placeholder=\"บันทึกเพิ่มเติมได้ที่นี่\"\r\n                                                            v-model=\"editCustomer.remark\"\r\n                                                            style=\"height: 80px\"></textarea>\r\n                                                       <label for=\"comment\">บันทึกเพิ่มเติม</label>\r\n                                                  </div>\r\n                                             </div>\r\n                                        </div>\r\n                                   </div>\r\n                              </div>\r\n                         </form>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                         <!-- ปุ่มปิด -->\r\n                         <button type=\"button\" class=\"btn btn-secondary btn-lg\"\r\n                              @click.prevent=\"hideModal('editCustModal')\">\r\n                              <font-awesome-icon icon=\"fa-solid fa-ban\" />\r\n                         </button>\r\n                         <!-- ปุ่มบันทึก -->\r\n                         <button id=\"btn\" class=\"btn btn-primary btn-lg\" @click.prevent=\"saveEditCustomer\">\r\n                              <font-awesome-icon icon=\"fa-solid fa-circle-check\" />\r\n                         </button>\r\n                         <!-- :data-bs-dismiss=this.chk -->\r\n                         <!-- data-bs-dismiss=\"modal\" -->\r\n                    </div>\r\n                    <!-- {{ editCustomer }} -->\r\n               </div>\r\n          </div>\r\n     </div>\r\n     <!-- สิ้นสุดการแก้ไขข้อมูล(Modal) -->\r\n     <div class=\"card border-dark border-2 shadow\" style=\"width:auto ;\">\r\n          <table id=\"showcustomer\" class=\"ms-2 table table-striped table-hover table-sm\"\r\n               style=\"width:auto; align-items: center\">\r\n               <thead>\r\n                    <tr>\r\n                         <th>รหัสลูกค้า</th>\r\n                         <th>ชื่อลูกค้า</th>\r\n                         <th>ที่อยู่ลูกค้า</th>\r\n                         <th>เบอร์ติดต่อ</th>\r\n                         <th>จังหวัด</th>\r\n                         <th>\r\n                              <button class=\"btn btn-success btn-sm me-md-2\" @click=\"newCustomer()\">\r\n                                   <!-- ปุ่มเพิ่มข้อมูล -->\r\n                                   <!-- <font-awesome-icon icon=\"fa-solid fa-plus\" /> -->\r\n                                   <font-awesome-icon icon=\"fa-solid fa-user-plus\" />\r\n                              </button>\r\n                         </th>\r\n                         <th></th>\r\n                    </tr>\r\n               </thead>\r\n               <tbody class=\"table-group-divider\">\r\n                    <tr v-for=\"rec in data_row\" :key=\"rec.customerId\" @click.prevent=\"editCustomer_Modal(rec)\">\r\n                         <td>{{ rec.customerId }}</td>\r\n                         <td>{{ rec.customerName }}</td>\r\n                         <td>{{ rec.customerAddr }}</td>\r\n                         <td>{{ rec.customerTel }}</td>\r\n                         <td>{{ rec.PROVINCE_NAME }}</td>\r\n                         <td style=\"text-align: left\">\r\n                              <button id=\"edit\" type=\"button\" class=\"btn btn-primary btn-sm me-md-2\"\r\n                                   @click.prevent=\"editCustomer_Modal(rec)\">\r\n                                   <!-- ปุ่มแก้ไขข้อมูล -->\r\n                                   <!-- <font-awesome-icon icon=\"fa-solid fa-pen\" /> -->\r\n                                   <font-awesome-icon icon=\"fa-solid fa-user-pen\" />\r\n                              </button>\r\n                         </td>\r\n                         <td style=\"text-align: left\">\r\n                              <button class=\"btn btn-danger btn-sm me-md-1\" data-bs-toggle=\"modal\" data-bs-target=\"#\">\r\n                                   <!-- ปุ่มลบข้อมูล -->\r\n                                   <font-awesome-icon icon=\"fa-solid fa-trash-can\" />\r\n                              </button>\r\n                         </td>\r\n                    </tr>\r\n               </tbody>\r\n          </table>\r\n     </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"@/axios\";\r\nimport $ from \"jquery\";\r\nimport { Modal } from \"bootstrap\"\r\n\r\nexport default {\r\n     data() {\r\n          return {\r\n               isLoading: false,\r\n               data_row: [],\r\n               province_id: [],\r\n               newRec: {\r\n                    customerId: \"\",\r\n                    customerName: \"\",\r\n                    customerAddr: \"\",\r\n                    provinceId: \"\",\r\n                    postCode: \"\",\r\n                    customerTel: \"\",\r\n                    contactName: \"\",\r\n                    contactTel: \"\",\r\n                    contactPosition: \"\",\r\n                    payType: \"\",\r\n                    creditDay: \"\",\r\n                    creditLimit: \"\",\r\n                    priceType: \"\",\r\n                    remark: \"\",\r\n                    customerDel: \"\",\r\n               },\r\n               editCustomer: {\r\n                    customerId: \"\",\r\n                    customerName: \"\",\r\n                    customerAddr: \"\",\r\n                    provinceId: \"\",\r\n                    postCode: \"\",\r\n                    customerTel: \"\",\r\n                    contactName: \"\",\r\n                    contactTel: \"\",\r\n                    contactPosition: \"\",\r\n                    payType: \"\",\r\n                    creditDay: \"\",\r\n                    creditLimit: \"\",\r\n                    priceType: \"\",\r\n                    remark: \"\",\r\n                    customerDel: \"\",\r\n               },\r\n          };\r\n     },\r\n     created() {\r\n          this.getData();\r\n     },\r\n     methods: {\r\n          inputFocus(Modal, InputModal) {\r\n               const myModal = document.getElementById(Modal);\r\n               const myInput = document.getElementById(InputModal);\r\n               myModal.addEventListener(\"shown.bs.modal\", () => {\r\n                    myInput.focus();\r\n               });\r\n          },\r\n          newCustomer() {\r\n               this.$router.push(\"/newcustomer\");\r\n          },\r\n          // closeModal(val) {\r\n          //      $(val).removeClass(\"in\");\r\n          //      $(\".modal-backdrop\").remove();\r\n          //      $(val).hide();\r\n          // },\r\n          editCustomer_Modal(val) {\r\n               this.editCustomer.customerId = val.customerId;\r\n               this.editCustomer.customerName = val.customerName;\r\n               this.editCustomer.customerAddr = val.customerAddr;\r\n               this.editCustomer.provinceId = val.provinceId;\r\n               this.editCustomer.postCode = val.postCode;\r\n               this.editCustomer.customerTel = val.customerTel;\r\n               this.editCustomer.contactName = val.contactName;\r\n               this.editCustomer.contactTel = val.contactTel;\r\n               this.editCustomer.contactPosition = val.contactPosition;\r\n               this.editCustomer.payType = val.payType;\r\n               this.editCustomer.creditDay = val.creditDay;\r\n               this.editCustomer.creditLimit = val.creditLimit;\r\n               this.editCustomer.priceType = val.priceType;\r\n               this.editCustomer.remark = val.remark;\r\n               this.editCustomer.customerDel = val.customerDel;\r\n               this.showModal(\"editCustModal\");\r\n               //this.inputFocus(\"editCustModal\", \"input_name\");\r\n          },\r\n          async saveNewrec() {\r\n               // await axios.post(`${apiURL}/customer/new`, this.newRec).then(() => {\r\n               await axios.post(`customer/new`, this.newRec).then(() => {\r\n                    this.newRec = {\r\n                         customerId: \"\",\r\n                         customerName: \"\",\r\n                         customerAddr: \"\",\r\n                         provinceId: \"\",\r\n                         postCode: \"\",\r\n                         customerTel: \"\",\r\n                         contactName: \"\",\r\n                         contactTel: \"\",\r\n                         contactPosition: \"\",\r\n                         payType: \"\",\r\n                         creditDay: \"\",\r\n                         creditLimit: \"\",\r\n                         priceType: \"\",\r\n                         remark: \"\",\r\n                         customerDel: \"\",\r\n                    };\r\n                    this.$router.push(\"/showcustomer\");\r\n                    console.log(\"Process success!\");\r\n               })\r\n                    .catch((error) => {\r\n                         console.log(error);\r\n                    });\r\n               this.$router.push(\"/\");\r\n          },\r\n          async saveEditCustomer() {\r\n               //let editModal = document.getElementById('editCustModal')\r\n               if (confirm(\"ยืนยันการเปลี่ยนแปลงข้อมูล ?\") == true) {\r\n                    await axios.post(`customer/update`, this.editCustomer).then(() => {\r\n                         this.editCustomer = {\r\n                              customerId: \"\",\r\n                              customerName: \"\",\r\n                              customerAddr: \"\",\r\n                              provinceId: \"\",\r\n                              postCode: \"\",\r\n                              customerTel: \"\",\r\n                              contactName: \"\",\r\n                              contactTel: \"\",\r\n                              contactPosition: \"\",\r\n                              payType: \"\",\r\n                              creditDay: \"\",\r\n                              creditLimit: \"\",\r\n                              priceType: \"\",\r\n                              remark: \"\",\r\n                              customerDel: \"\",\r\n                         };\r\n                         // สั่งปิด Modal ก่อนที่จะทำการรีโหลดดาต้า\r\n                         // $(\"#editCustModal\").removeClass(\"in\");\r\n                         // $(\".modal-backdrop\").remove();\r\n                         // $(\"#editCustModal\").hide();\r\n                         this.hideModal(\"editCustModal\");\r\n                         // ---------------------------------\r\n                         $(\"#showcustomer\").DataTable().destroy(); //--- ทำลาย Datatable\r\n                         this.getData();\r\n\r\n                         // axios.get(`customer/read`).then((response) => {\r\n                         //      this.data_row = response.data;\r\n                         //      $(document).ready(function () {\r\n                         //           $(\"#showcustomer\").DataTable();\r\n                         //      });\r\n                         // });\r\n\r\n                         console.log(\"Process success!\");\r\n                    })\r\n                         .catch((error) => {\r\n                              console.log(error);\r\n                         });\r\n               }\r\n          },\r\n          async getData() {\r\n               await axios.get(`customer/read`).then((response) => {\r\n                    this.data_row = response.data;\r\n                    $(document).ready(function () {\r\n                         $(\"#showcustomer\").DataTable({\r\n                              // \"fnRowCallback\": function (nRow, aData,) { // เช็คเงื่อนไขในแต่ละเรคคอร์ด\r\n                              //      if (aData[3] == \"handsome\") {\r\n                              //           $('td', nRow).css('color', 'Red');\r\n                              //      }\r\n                              // }\r\n                              //\"dom\": 'Bfrtip',\r\n                              //\"buttons\": ['excel', 'pdf'],                             \r\n                              \"bJQueryUI\": true,\r\n                              \"sPaginationType\": \"full_numbers\",\r\n                              \"language\": {\r\n                                   \"decimal\": \"\",\r\n                                   \"emptyTable\": \"ไม่พบการข้อมูลจากฐานข้อมูล\",\r\n                                   \"info\": \"พบข้อมูล _TOTAL_ เรคอร์ด\",\r\n                                   // \"info\": \"แสดง _START_ - _END_ แถว จากทั้งหมด _TOTAL_ แถว\",\r\n                                   \"infoEmpty\": \"ไม่พบข้อมูลที่ค้นหา\",\r\n                                   \"infoFiltered\": \"(จากข้อมูลทั้งหมด _MAX_ เรคอร์ด)\",\r\n                                   \"infoPostFix\": \"\",\r\n                                   \"thousands\": \",\",\r\n                                   \"lengthMenu\": \"แสดงครั้งละ _MENU_ เรคอร์ด\",\r\n                                   \"loadingRecords\": \"Loading...\",\r\n                                   \"processing\": \"\",\r\n                                   \"search\": \"ค้นหาข้อมูล:\",\r\n                                   \"zeroRecords\": \"ไม่พบข้อมูลที่ค้นหา\",\r\n                                   \"paginate\": {\r\n                                        \"first\": \"หน้าแรก\",\r\n                                        \"last\": \"หน้าสุดท้าย\",\r\n                                        \"next\": \"ต่อไป\",\r\n                                        \"previous\": \"ย้อนกลับ\"\r\n                                   },\r\n                                   \"aria\": {\r\n                                        \"sortAscending\": \": activate to sort column ascending\",\r\n                                        \"sortDescending\": \": activate to sort column descending\"\r\n                                   }\r\n                              }\r\n                         });\r\n                    });\r\n               });\r\n               await axios.get(`province/read`).then((response) => {\r\n                    this.province_id = response.data;\r\n               });\r\n          },\r\n          async showModal(e) {\r\n               let myModal = await new Modal(document.getElementById(e))\r\n               await myModal.show()\r\n          },\r\n          async hideModal(e) {\r\n               await $(`#${e}`).removeClass(\"in\");\r\n               await $(\".modal-backdrop\").remove();\r\n               await $(`#${e}`).hide();\r\n          },\r\n     },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}