{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"@/axios\";\nimport $ from \"jquery\";\nimport { Modal } from \"bootstrap\";\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      data_row: [],\n      province_id: [],\n      newRec: {\n        customerId: \"\",\n        customerName: \"\",\n        customerAddr: \"\",\n        province_id: \"\",\n        postCode: \"\",\n        customerTel: \"\",\n        contactName: \"\",\n        contactTel: \"\",\n        contactPosition: \"\",\n        payType: \"\",\n        creditDay: \"\",\n        creditLimit: \"\",\n        priceType: \"\",\n        remark: \"\",\n        customerDel: \"\"\n      },\n      editCustomer: {\n        customerId: \"\",\n        customerName: \"\",\n        customerAddr: \"\",\n        province_id: \"\",\n        postCode: \"\",\n        customerTel: \"\",\n        contactName: \"\",\n        contactTel: \"\",\n        contactPosition: \"\",\n        payType: \"\",\n        creditDay: \"\",\n        creditLimit: \"\",\n        priceType: \"\",\n        remark: \"\",\n        customerDel: \"\"\n      },\n      // temp\n      tmp_cust_name: \"\",\n      tmp_cust_addr: \"\",\n      tmp_cust_tel: \"\",\n      import_header: {\n        import_book_id: \"\",\n        import_book_no: \"\",\n        cust_auto_id: \"\",\n        import_user: \"\",\n        import_type_id: \"\",\n        import_date: new Date(),\n        import_status: \"รอดำเนินการ\"\n      }\n    };\n  },\n\n  created() {\n    this.getData(); // this.onSelect2();\n  },\n\n  methods: {\n    onSelect2() {\n      $(document).ready(() => {\n        let rec = this.editCustomer;\n        $(\"#findSelect\").select2({\n          theme: \"bootstrap-5\",\n          closeOnSelect: true,\n          width: \"100%\",\n          dropdownParent: $(\"#findSelect\").parent(),\n          placeholder: \"--- เลือกจังหวัด ---\" // tags: true,\n\n        });\n        $(\"#findSelect\").on(\"select2:select\", function (e) {\n          let data = e.params.data; // $('#findSize1').val(data.id)\n\n          rec.province_id = data.id;\n        });\n      });\n    },\n\n    goLoading() {\n      this.isLoading = true;\n      setTimeout(() => {\n        this.isLoading = false;\n      }, 5000);\n    },\n\n    inputFocus(Modal, InputModal) {\n      const myModal = document.getElementById(Modal);\n      const myInput = document.getElementById(InputModal);\n      myModal.addEventListener(\"shown.bs.modal\", () => {\n        myInput.focus();\n      });\n    },\n\n    newCustomer() {\n      this.$router.push(\"/newcustomer\");\n    },\n\n    editCustomer_Modal(val) {\n      this.editCustomer.customerId = val.customerId;\n      this.editCustomer.customerName = val.customerName;\n      this.editCustomer.customerAddr = val.customerAddr;\n      this.editCustomer.province_id = val.province_id;\n      this.editCustomer.postCode = val.postCode;\n      this.editCustomer.customerTel = val.customerTel;\n      this.editCustomer.contactName = val.contactName;\n      this.editCustomer.contactTel = val.contactTel;\n      this.editCustomer.contactPosition = val.contactPosition;\n      this.editCustomer.payType = val.payType;\n      this.editCustomer.creditDay = val.creditDay;\n      this.editCustomer.creditLimit = val.creditLimit;\n      this.editCustomer.priceType = val.priceType;\n      this.editCustomer.remark = val.remark;\n      this.editCustomer.customerDel = val.customerDel;\n      this.showModal(\"editCustModal\");\n      this.onSelect2(); //this.inputFocus(\"editCustModal\", \"input_name\");\n    },\n\n    async saveNewrec() {\n      // await axios.post(`${apiURL}/customer/new`, this.newRec).then(() => {\n      await axios.post(`customer/new`, this.newRec).then(() => {\n        this.newRec = {\n          customerId: \"\",\n          customerName: \"\",\n          customerAddr: \"\",\n          province_id: \"\",\n          postCode: \"\",\n          customerTel: \"\",\n          contactName: \"\",\n          contactTel: \"\",\n          contactPosition: \"\",\n          payType: \"\",\n          creditDay: \"\",\n          creditLimit: \"\",\n          priceType: \"\",\n          remark: \"\",\n          customerDel: \"\"\n        };\n        this.$router.push(\"/showcustomer\");\n        console.log(\"Process success!\");\n      }).catch(error => {\n        console.log(error);\n      });\n      this.$router.push(\"/\");\n    },\n\n    async saveEditCustomer() {\n      //let editModal = document.getElementById('editCustModal')\n      if (confirm(\"ยืนยันการเปลี่ยนแปลงข้อมูล ?\") == true) {\n        await axios.post(`customer/update`, this.editCustomer).then(() => {\n          this.editCustomer = {\n            customerId: \"\",\n            customerName: \"\",\n            customerAddr: \"\",\n            province_id: \"\",\n            postCode: \"\",\n            customerTel: \"\",\n            contactName: \"\",\n            contactTel: \"\",\n            contactPosition: \"\",\n            payType: \"\",\n            creditDay: \"\",\n            creditLimit: \"\",\n            priceType: \"\",\n            remark: \"\",\n            customerDel: \"\"\n          };\n          this.hideModal(\"editCustModal\"); // ---------------------------------\n\n          $(\"#showcustomer\").DataTable().destroy(); //--- ทำลาย Datatable\n\n          this.getData();\n          console.log(\"Process success!\");\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    },\n\n    async getData() {\n      this.goLoading();\n      await axios.get(`customer/read`).then(response => {\n        this.data_row = response.data;\n        $(document).ready(function () {\n          $(\"#showcustomer\").DataTable({\n            // \"fnRowCallback\": function (nRow, aData,) { // เช็คเงื่อนไขในแต่ละเรคคอร์ด\n            //      if (aData[3] == \"handsome\") {\n            //           $('td', nRow).css('color', 'Red');\n            //      }\n            // }\n            //\"dom\": 'Bfrtip',\n            //\"buttons\": ['excel', 'pdf'],\n            scrollY: \"300px\",\n            // \"scrollX\": false,\n            // scrollCollapse: true,\n            // paging: false,\n            // rowReorder: true,\n            // \"bJQueryUI\": true,\n            autoFill: true,\n            sPaginationType: \"full_numbers\",\n            language: {\n              decimal: \"\",\n              emptyTable: \"ไม่พบการข้อมูลจากฐานข้อมูล\",\n              info: \"พบข้อมูล _TOTAL_ เรคอร์ด\",\n              // \"info\": \"แสดง _START_ - _END_ แถว จากทั้งหมด _TOTAL_ แถว\",\n              infoEmpty: \"ไม่พบข้อมูลที่ค้นหา\",\n              infoFiltered: \"(จากข้อมูลทั้งหมด _MAX_ เรคอร์ด)\",\n              infoPostFix: \"\",\n              thousands: \",\",\n              lengthMenu: \"แสดงครั้งละ _MENU_ เรคอร์ด\",\n              loadingRecords: \"Loading...\",\n              processing: \"\",\n              search: \"ค้นหาข้อมูล:\",\n              zeroRecords: \"ไม่พบข้อมูลที่ค้นหา\",\n              paginate: {\n                first: \"หน้าแรก\",\n                last: \"หน้าสุดท้าย\",\n                next: \"ต่อไป\",\n                previous: \"ย้อนกลับ\"\n              },\n              aria: {\n                sortAscending: \": activate to sort column ascending\",\n                sortDescending: \": activate to sort column descending\"\n              }\n            }\n          });\n        });\n      });\n      await axios.get(`province/read`).then(response => {\n        this.province_id = response.data;\n      });\n    },\n\n    setCreditday() {\n      if (this.editCustomer.payType == 1) {\n        this.editCustomer.creditDay = 0;\n        this.editCustomer.creditLimit = 0;\n        this.editCustomer.priceType = 1;\n      } else {\n        this.editCustomer.creditDay = 30;\n        this.editCustomer.creditLimit = 0;\n        this.editCustomer.priceType = 3;\n      }\n    },\n\n    importBill(val) {\n      // sessionStorage.setItem(\"cust_id\", val.cust_auto_id);\n      // this.$router.push(\"/importWork\");\n      let imp_type;\n\n      if (val.cust_auto_id == 1) {\n        imp_type = 2;\n      } else {\n        imp_type = 1;\n      }\n\n      this.tmp_cust_name = val.customerName;\n      this.tmp_cust_addr = val.customerAddr;\n      this.tmp_cust_tel = val.customerTel;\n      this.import_header.cust_auto_id = val.cust_auto_id;\n      this.import_header.import_type_id = imp_type;\n      this.showModal(\"importHeader\");\n    },\n\n    saveImportBill() {\n      if (this.import_header.import_book_id == \"\" || this.import_header.import_book_no == \"\" || this.import_header.import_date == null) {\n        alert(\"กรุณากรอกข้อมูลให้ครบถ้วน(เล่มที่, เลขที่ หรือ วันที่) !!!\");\n        document.getElementById(\"book_id\").focus();\n        document.getElementById(\"book_id\").select();\n      }\n    },\n\n    async showModal(e) {\n      let myModal = await new Modal(document.getElementById(e));\n      await myModal.show();\n    },\n\n    async hideModal(e) {\n      await $(`#${e}`).removeClass(\"in\");\n      await $(\".modal-backdrop\").remove();\n      await $(`#${e}`).hide();\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","$","Modal","data","isLoading","data_row","province_id","newRec","customerId","customerName","customerAddr","postCode","customerTel","contactName","contactTel","contactPosition","payType","creditDay","creditLimit","priceType","remark","customerDel","editCustomer","tmp_cust_name","tmp_cust_addr","tmp_cust_tel","import_header","import_book_id","import_book_no","cust_auto_id","import_user","import_type_id","import_date","Date","import_status","created","getData","methods","onSelect2","document","ready","rec","select2","theme","closeOnSelect","width","dropdownParent","parent","placeholder","on","e","params","id","goLoading","setTimeout","inputFocus","InputModal","myModal","getElementById","myInput","addEventListener","focus","newCustomer","$router","push","editCustomer_Modal","val","showModal","saveNewrec","post","then","console","log","catch","error","saveEditCustomer","confirm","hideModal","DataTable","destroy","get","response","scrollY","autoFill","sPaginationType","language","decimal","emptyTable","info","infoEmpty","infoFiltered","infoPostFix","thousands","lengthMenu","loadingRecords","processing","search","zeroRecords","paginate","first","last","next","previous","aria","sortAscending","sortDescending","setCreditday","importBill","imp_type","saveImportBill","alert","select","show","removeClass","remove","hide"],"sourceRoot":"","sources":["D:\\Project-vue\\SPR-PROJECT\\main-app-test\\src\\components\\showCustomer.vue"],"sourcesContent":["<template>\r\n  <Loading v-model:active=\"isLoading\" />\r\n  <div class=\"scroll\">\r\n    <!-- Modal สำหรับการสร้างใบรับ -->\r\n    <div\r\n      class=\"modal fade rounded-3\"\r\n      id=\"importHeader\"\r\n      tabindex=\"-1\"\r\n      aria-hidden=\"true\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n    >\r\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-primary bg-opacity-75\" style=\"color: white\">\r\n            <h1 class=\"modal-title fs-5\" style=\"color: white\" id=\"exampleModalLabel\">\r\n              ใบรับ\r\n            </h1>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <!-- <form> -->\r\n            <div class=\"row\">\r\n              <div class=\"col\" style=\"text-align: left\">\r\n                <label>ประเภทใบรับ</label>\r\n                <select\r\n                  class=\"form-select\"\r\n                  v-model=\"this.import_header.import_type_id\"\r\n                  disabled\r\n                >\r\n                  <option value=\"1\">ค่าจ้าง</option>\r\n                  <option value=\"2\">ยางพร้อมโครง</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"col\" style=\"text-align: left\">\r\n                <label>เล่มที่</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"book_id\"\r\n                  v-model.trim=\"this.import_header.import_book_id\"\r\n                />\r\n              </div>\r\n              <div class=\"col\" style=\"text-align: left\">\r\n                <label>เลขที่</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"book_no\"\r\n                  v-model.trim=\"this.import_header.import_book_no\"\r\n                />\r\n              </div>\r\n              <div class=\"col\" style=\"text-align: left\">\r\n                <label>วันที่เปิดใบรับ</label>\r\n                <!-- <input type=\"text\" class=\"form-control\" v-model=\"this.import_header.imp_date\" /> -->\r\n                <Datepicker\r\n                  v-model=\"this.import_header.import_date\"\r\n                  :format=\"format\"\r\n                  autoApply\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"row mt-1\">\r\n              <div class=\"col\" style=\"text-align: left\">\r\n                <label>ชื่อลูกค้า</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"this.tmp_cust_name\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row mt-1\">\r\n              <div class=\"col-8\" style=\"text-align: left\">\r\n                <label>ที่อยู่ลูกค้า</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"this.tmp_cust_addr\" />\r\n              </div>\r\n              <div class=\"col-4\" style=\"text-align: left\">\r\n                <label>เบอร์โทร</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"this.tmp_cust_tel\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row-12 mt-2\" style=\"text-align: center\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-danger rounded-2 me-2\"\r\n                @click.prevent=\"hideModal('importHeader')\"\r\n              >\r\n                <font-awesome-icon icon=\"fa-solid fa-ban\" />&nbsp;ปิดหน้าต่าง\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary rounded-2 me-2\"\r\n                @click.prevent=\"saveImportBill()\"\r\n              >\r\n                <font-awesome-icon icon=\"fa-solid fa-check-to-slot\" />&nbsp;บันทึกใบรับ\r\n              </button>\r\n            </div>\r\n            {{ this.import_header }}\r\n            <!-- </form> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- สิ้นสุดการสร้างใบรับ -->\r\n\r\n    <!-- Modal สำหรับการแก้ไขข้อมูล -->\r\n    <div\r\n      class=\"modal fade rounded-3\"\r\n      id=\"editCustModal\"\r\n      tabindex=\"-1\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-danger bg-opacity-75\">\r\n            <h1 class=\"modal-title fs-5\" style=\"color: white\" id=\"exampleModalLabel\">\r\n              ดูรายละเอียด / แก้ไข\r\n            </h1>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form>\r\n              <div class=\"card-body\">\r\n                <div class=\"form-group\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                      <div class=\"mb-2\">\r\n                        <label style=\"color: red\">*รหัสลูกค้า</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          v-model.trim=\"editCustomer.customerId\"\r\n                          disabled\r\n                        />\r\n                      </div>\r\n                      <div class=\"mb-2\">\r\n                        <label style=\"color: red\">*ชื่อลูกค้า</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          id=\"input_name\"\r\n                          class=\"form-control\"\r\n                          v-model.trim=\"editCustomer.customerName\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"mb-2\">\r\n                        <label>ที่อยู่ลูกค้า</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          v-model.trim=\"editCustomer.customerAddr\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"mb-2\">\r\n                        <label>จังหวัด</label>\r\n                        <select\r\n                          class=\"form-select\"\r\n                          id=\"findSelect\"\r\n                          v-model=\"editCustomer.province_id\"\r\n                        >\r\n                          <option\r\n                            v-for=\"province in province_id\"\r\n                            :key=\"province.PROVINCE_ID\"\r\n                            :value=\"province.PROVINCE_ID\"\r\n                          >\r\n                            {{ province.PROVINCE_NAME }}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"mb-2\">\r\n                        <label>รหัสไปรษณีย์</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          v-model=\"editCustomer.postCode\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"mb-2\">\r\n                        <label>เบอร์โทรศัพท์</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          v-model=\"editCustomer.customerTel\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                      <div class=\"mb-2\">\r\n                        <label>ชื่อผู้ติดต่อ</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          v-model=\"editCustomer.contactName\"\r\n                        />\r\n                      </div>\r\n\r\n                      <label>เบอร์โทรผู้ติดต่อ / ตำแหน่งงานผู้ติดต่อ</label>\r\n                      <div class=\"input-group mb-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          v-model=\"editCustomer.contactTel\"\r\n                        />\r\n                        <span class=\"input-group-text\">/</span>\r\n                        <input\r\n                          type=\"text\"\r\n                          class=\"form-control\"\r\n                          v-model=\"editCustomer.contactPosition\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"mb-2\">\r\n                        <label>ประเภทการชำระเงิน</label>\r\n                        <select\r\n                          class=\"form-select\"\r\n                          @change=\"setCreditday\"\r\n                          v-model=\"editCustomer.payType\"\r\n                        >\r\n                          <option value=\"1\">เงินสด</option>\r\n                          <option value=\"2\">เครดิต</option>\r\n                        </select>\r\n                      </div>\r\n                      <!-- ตรวจสอบสิทธิ์ในการเครดิต -->\r\n\r\n                      <div class=\"row border-0\" v-if=\"editCustomer.payType == 2\">\r\n                        <div class=\"col\">\r\n                          <label>เครดิต (วัน)</label>\r\n                          <div class=\"input-group\">\r\n                            <input\r\n                              type=\"number\"\r\n                              class=\"form-control\"\r\n                              v-model=\"editCustomer.creditDay\"\r\n                              style=\"width: auto\"\r\n                            />\r\n                            <!-- <span class=\"input-group-text\" style=\"width:100%;\">วัน</span> -->\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                          <label>วงเงิน (บาท)</label>\r\n                          <div class=\"input-group\">\r\n                            <input\r\n                              type=\"number\"\r\n                              class=\"form-control\"\r\n                              v-model=\"editCustomer.creditLimit\"\r\n                              style=\"width: auto\"\r\n                            />\r\n                            <!-- <span class=\"input-group-text\" style=\"width:100%;\">บาท</span> -->\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <!-- สิ้นสุดตรวจสอบสิทธิ์ในการเครดิต -->\r\n                      <div class=\"mb-2 mt-2\">\r\n                        <label>ประเภทราคาที่</label>\r\n                        <select class=\"form-select\" v-model=\"editCustomer.priceType\">\r\n                          <option value=\"1\">เงินสด</option>\r\n                          <option value=\"2\">เงินสด+จัดส่ง</option>\r\n                          <option value=\"3\">เครดิต</option>\r\n                          <option value=\"4\">ราคาพิเศษ</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"mb-2\">\r\n                        <textarea\r\n                          class=\"form-control\"\r\n                          placeholder=\"บันทึกเพิ่มเติมได้ที่นี่\"\r\n                          v-model=\"editCustomer.remark\"\r\n                          style=\"height: 80px\"\r\n                        ></textarea>\r\n                        <label for=\"comment\">บันทึกเพิ่มเติม</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- {{ editCustomer }} -->\r\n            </form>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <!-- ปุ่มปิด -->\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary btn-lg\"\r\n              @click.prevent=\"hideModal('editCustModal')\"\r\n            >\r\n              <font-awesome-icon icon=\"fa-solid fa-ban\" />\r\n            </button>\r\n            <!-- ปุ่มบันทึก -->\r\n            <button\r\n              id=\"btn\"\r\n              class=\"btn btn-primary btn-lg\"\r\n              @click.prevent=\"saveEditCustomer\"\r\n            >\r\n              <font-awesome-icon icon=\"fa-solid fa-circle-check\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- สิ้นสุดการแก้ไขข้อมูล(Modal) -->\r\n    <div class=\"card border-dark shadow overflow-auto\" style=\"width: 100%\">\r\n      <div class=\"card-header bg-primary\" style=\"color: white\">\r\n        ::: แสดงรายการ-ลูกค้า :::\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <table\r\n          id=\"showcustomer\"\r\n          class=\"ms-2 table table-striped table-hover table-sm nowrap\"\r\n          style=\"width: 90%; align-items: center\"\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <th style=\"text-align: right\">\r\n                <button\r\n                  class=\"btn btn-success btn-sm\"\r\n                  title=\"เพิ่มข้อมูล\"\r\n                  @click=\"newCustomer()\"\r\n                >\r\n                  <!-- ปุ่มเพิ่มข้อมูล -->\r\n                  <!-- <font-awesome-icon icon=\"fa-solid fa-plus\" /> -->\r\n                  <font-awesome-icon icon=\"fa-solid fa-user-plus\" />\r\n                </button>\r\n              </th>\r\n              <th></th>\r\n              <th>รหัสลูกค้า</th>\r\n              <th>ชื่อลูกค้า</th>\r\n              <th>ที่อยู่ลูกค้า</th>\r\n              <th>เบอร์ติดต่อ</th>\r\n              <th>จังหวัด</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"table-group-divider\">\r\n            <tr v-for=\"rec in data_row\" :key=\"rec.customerId\">\r\n              <td style=\"text-align: right\">\r\n                <button\r\n                  id=\"edit\"\r\n                  class=\"btn btn-primary btn-sm\"\r\n                  title=\"แก้ไขข้อมูล\"\r\n                  @click.prevent=\"editCustomer_Modal(rec)\"\r\n                >\r\n                  <font-awesome-icon icon=\"fa-solid fa-user-pen\" />\r\n                </button>\r\n              </td>\r\n              <td style=\"text-align: left\">\r\n                <button\r\n                  class=\"btn btn-info btn-sm\"\r\n                  title=\"ทำใบรับ\"\r\n                  @click.prevent=\"importBill(rec)\"\r\n                >\r\n                  <font-awesome-icon icon=\"fa-regula fa-file-lines\" />\r\n                </button>\r\n              </td>\r\n              <td @click.prevent=\"editCustomer_Modal(rec)\">{{ rec.customerId }}</td>\r\n              <td @click.prevent=\"editCustomer_Modal(rec)\">{{ rec.customerName }}</td>\r\n              <td @click.prevent=\"editCustomer_Modal(rec)\">{{ rec.customerAddr }}</td>\r\n              <td @click.prevent=\"editCustomer_Modal(rec)\">{{ rec.customerTel }}</td>\r\n              <td @click.prevent=\"editCustomer_Modal(rec)\">{{ rec.PROVINCE_NAME }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"@/axios\";\r\nimport $ from \"jquery\";\r\nimport { Modal } from \"bootstrap\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      data_row: [],\r\n      province_id: [],\r\n      newRec: {\r\n        customerId: \"\",\r\n        customerName: \"\",\r\n        customerAddr: \"\",\r\n        province_id: \"\",\r\n        postCode: \"\",\r\n        customerTel: \"\",\r\n        contactName: \"\",\r\n        contactTel: \"\",\r\n        contactPosition: \"\",\r\n        payType: \"\",\r\n        creditDay: \"\",\r\n        creditLimit: \"\",\r\n        priceType: \"\",\r\n        remark: \"\",\r\n        customerDel: \"\",\r\n      },\r\n      editCustomer: {\r\n        customerId: \"\",\r\n        customerName: \"\",\r\n        customerAddr: \"\",\r\n        province_id: \"\",\r\n        postCode: \"\",\r\n        customerTel: \"\",\r\n        contactName: \"\",\r\n        contactTel: \"\",\r\n        contactPosition: \"\",\r\n        payType: \"\",\r\n        creditDay: \"\",\r\n        creditLimit: \"\",\r\n        priceType: \"\",\r\n        remark: \"\",\r\n        customerDel: \"\",\r\n      },\r\n      // temp\r\n      tmp_cust_name: \"\",\r\n      tmp_cust_addr: \"\",\r\n      tmp_cust_tel: \"\",\r\n      import_header: {\r\n        import_book_id: \"\",\r\n        import_book_no: \"\",\r\n        cust_auto_id: \"\",\r\n        import_user: \"\",\r\n        import_type_id: \"\",\r\n        import_date: new Date(),\r\n        import_status: \"รอดำเนินการ\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getData();\r\n    // this.onSelect2();\r\n  },\r\n  methods: {\r\n    onSelect2() {\r\n      $(document).ready(() => {\r\n        let rec = this.editCustomer;\r\n        $(\"#findSelect\").select2({\r\n          theme: \"bootstrap-5\",\r\n          closeOnSelect: true,\r\n          width: \"100%\",\r\n          dropdownParent: $(\"#findSelect\").parent(),\r\n          placeholder: \"--- เลือกจังหวัด ---\",\r\n          // tags: true,\r\n        });\r\n        $(\"#findSelect\").on(\"select2:select\", function (e) {\r\n          let data = e.params.data;\r\n          // $('#findSize1').val(data.id)\r\n          rec.province_id = data.id;\r\n        });\r\n      });\r\n    },\r\n    goLoading() {\r\n      this.isLoading = true;\r\n      setTimeout(() => {\r\n        this.isLoading = false;\r\n      }, 5000);\r\n    },\r\n    inputFocus(Modal, InputModal) {\r\n      const myModal = document.getElementById(Modal);\r\n      const myInput = document.getElementById(InputModal);\r\n      myModal.addEventListener(\"shown.bs.modal\", () => {\r\n        myInput.focus();\r\n      });\r\n    },\r\n    newCustomer() {\r\n      this.$router.push(\"/newcustomer\");\r\n    },\r\n    editCustomer_Modal(val) {\r\n      this.editCustomer.customerId = val.customerId;\r\n      this.editCustomer.customerName = val.customerName;\r\n      this.editCustomer.customerAddr = val.customerAddr;\r\n      this.editCustomer.province_id = val.province_id;\r\n      this.editCustomer.postCode = val.postCode;\r\n      this.editCustomer.customerTel = val.customerTel;\r\n      this.editCustomer.contactName = val.contactName;\r\n      this.editCustomer.contactTel = val.contactTel;\r\n      this.editCustomer.contactPosition = val.contactPosition;\r\n      this.editCustomer.payType = val.payType;\r\n      this.editCustomer.creditDay = val.creditDay;\r\n      this.editCustomer.creditLimit = val.creditLimit;\r\n      this.editCustomer.priceType = val.priceType;\r\n      this.editCustomer.remark = val.remark;\r\n      this.editCustomer.customerDel = val.customerDel;\r\n      this.showModal(\"editCustModal\");\r\n      this.onSelect2();\r\n      //this.inputFocus(\"editCustModal\", \"input_name\");\r\n    },\r\n    async saveNewrec() {\r\n      // await axios.post(`${apiURL}/customer/new`, this.newRec).then(() => {\r\n      await axios\r\n        .post(`customer/new`, this.newRec)\r\n        .then(() => {\r\n          this.newRec = {\r\n            customerId: \"\",\r\n            customerName: \"\",\r\n            customerAddr: \"\",\r\n            province_id: \"\",\r\n            postCode: \"\",\r\n            customerTel: \"\",\r\n            contactName: \"\",\r\n            contactTel: \"\",\r\n            contactPosition: \"\",\r\n            payType: \"\",\r\n            creditDay: \"\",\r\n            creditLimit: \"\",\r\n            priceType: \"\",\r\n            remark: \"\",\r\n            customerDel: \"\",\r\n          };\r\n          this.$router.push(\"/showcustomer\");\r\n          console.log(\"Process success!\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      this.$router.push(\"/\");\r\n    },\r\n    async saveEditCustomer() {\r\n      //let editModal = document.getElementById('editCustModal')\r\n      if (confirm(\"ยืนยันการเปลี่ยนแปลงข้อมูล ?\") == true) {\r\n        await axios\r\n          .post(`customer/update`, this.editCustomer)\r\n          .then(() => {\r\n            this.editCustomer = {\r\n              customerId: \"\",\r\n              customerName: \"\",\r\n              customerAddr: \"\",\r\n              province_id: \"\",\r\n              postCode: \"\",\r\n              customerTel: \"\",\r\n              contactName: \"\",\r\n              contactTel: \"\",\r\n              contactPosition: \"\",\r\n              payType: \"\",\r\n              creditDay: \"\",\r\n              creditLimit: \"\",\r\n              priceType: \"\",\r\n              remark: \"\",\r\n              customerDel: \"\",\r\n            };\r\n            this.hideModal(\"editCustModal\");\r\n            // ---------------------------------\r\n            $(\"#showcustomer\").DataTable().destroy(); //--- ทำลาย Datatable\r\n            this.getData();\r\n            console.log(\"Process success!\");\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    },\r\n    async getData() {\r\n      this.goLoading();\r\n      await axios.get(`customer/read`).then((response) => {\r\n        this.data_row = response.data;\r\n        $(document).ready(function () {\r\n          $(\"#showcustomer\").DataTable({\r\n            // \"fnRowCallback\": function (nRow, aData,) { // เช็คเงื่อนไขในแต่ละเรคคอร์ด\r\n            //      if (aData[3] == \"handsome\") {\r\n            //           $('td', nRow).css('color', 'Red');\r\n            //      }\r\n            // }\r\n            //\"dom\": 'Bfrtip',\r\n            //\"buttons\": ['excel', 'pdf'],\r\n            scrollY: \"300px\",\r\n            // \"scrollX\": false,\r\n            // scrollCollapse: true,\r\n            // paging: false,\r\n            // rowReorder: true,\r\n            // \"bJQueryUI\": true,\r\n            autoFill: true,\r\n            sPaginationType: \"full_numbers\",\r\n            language: {\r\n              decimal: \"\",\r\n              emptyTable: \"ไม่พบการข้อมูลจากฐานข้อมูล\",\r\n              info: \"พบข้อมูล _TOTAL_ เรคอร์ด\",\r\n              // \"info\": \"แสดง _START_ - _END_ แถว จากทั้งหมด _TOTAL_ แถว\",\r\n              infoEmpty: \"ไม่พบข้อมูลที่ค้นหา\",\r\n              infoFiltered: \"(จากข้อมูลทั้งหมด _MAX_ เรคอร์ด)\",\r\n              infoPostFix: \"\",\r\n              thousands: \",\",\r\n              lengthMenu: \"แสดงครั้งละ _MENU_ เรคอร์ด\",\r\n              loadingRecords: \"Loading...\",\r\n              processing: \"\",\r\n              search: \"ค้นหาข้อมูล:\",\r\n              zeroRecords: \"ไม่พบข้อมูลที่ค้นหา\",\r\n              paginate: {\r\n                first: \"หน้าแรก\",\r\n                last: \"หน้าสุดท้าย\",\r\n                next: \"ต่อไป\",\r\n                previous: \"ย้อนกลับ\",\r\n              },\r\n              aria: {\r\n                sortAscending: \": activate to sort column ascending\",\r\n                sortDescending: \": activate to sort column descending\",\r\n              },\r\n            },\r\n          });\r\n        });\r\n      });\r\n      await axios.get(`province/read`).then((response) => {\r\n        this.province_id = response.data;\r\n      });\r\n    },\r\n    setCreditday() {\r\n      if (this.editCustomer.payType == 1) {\r\n        this.editCustomer.creditDay = 0;\r\n        this.editCustomer.creditLimit = 0;\r\n        this.editCustomer.priceType = 1;\r\n      } else {\r\n        this.editCustomer.creditDay = 30;\r\n        this.editCustomer.creditLimit = 0;\r\n        this.editCustomer.priceType = 3;\r\n      }\r\n    },\r\n    importBill(val) {\r\n      // sessionStorage.setItem(\"cust_id\", val.cust_auto_id);\r\n      // this.$router.push(\"/importWork\");\r\n      let imp_type;\r\n      if (val.cust_auto_id == 1) {\r\n        imp_type = 2;\r\n      } else {\r\n        imp_type = 1;\r\n      }\r\n      this.tmp_cust_name = val.customerName;\r\n      this.tmp_cust_addr = val.customerAddr;\r\n      this.tmp_cust_tel = val.customerTel;\r\n      this.import_header.cust_auto_id = val.cust_auto_id;\r\n      this.import_header.import_type_id = imp_type;\r\n      this.showModal(\"importHeader\");\r\n    },\r\n    saveImportBill() {\r\n      if (\r\n        this.import_header.import_book_id == \"\" ||\r\n        this.import_header.import_book_no == \"\" ||\r\n        this.import_header.import_date == null\r\n      ) {\r\n        alert(\"กรุณากรอกข้อมูลให้ครบถ้วน(เล่มที่, เลขที่ หรือ วันที่) !!!\");\r\n        document.getElementById(\"book_id\").focus();\r\n        document.getElementById(\"book_id\").select();\r\n      }\r\n    },\r\n    async showModal(e) {\r\n      let myModal = await new Modal(document.getElementById(e));\r\n      await myModal.show();\r\n    },\r\n    async hideModal(e) {\r\n      await $(`#${e}`).removeClass(\"in\");\r\n      await $(\".modal-backdrop\").remove();\r\n      await $(`#${e}`).hide();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.scroll {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  overflow-x: auto;\r\n}\r\n\r\n.card {\r\n  flex: auto;\r\n  flex-shrink: 0;\r\n  max-width: auto;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}