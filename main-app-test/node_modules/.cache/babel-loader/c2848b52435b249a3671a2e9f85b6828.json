{"ast":null,"code":"import $ from \"jquery\";\nimport axios from \"@/axios\";\nimport { Modal } from \"bootstrap\";\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    const date = ref(new Date());\n\n    const format = date => {\n      const d = date.getDate();\n      const m = date.getMonth() + 1;\n      const y = date.getFullYear();\n      return `${d}/${m}/${y}`;\n    };\n\n    return {\n      date,\n      format\n    };\n  },\n\n  data() {\n    return {\n      rubber_size: [],\n      showlist: false,\n      imp_header: {\n        imp_book_no: \"\",\n        imp_no: \"\",\n        imp_date: \"\"\n      },\n      imp_detail: {\n        rub_size_no: \"\"\n      }\n    };\n  },\n\n  mounted() {},\n\n  methods: {\n    onSelect2Size() {\n      $(document).ready(() => {\n        let rec = this.imp_detail;\n        $('#findSize').select2({\n          theme: \"bootstrap-5\",\n          closeOnSelect: true,\n          width: '100%',\n          dropdownParent: $(\"#findSize\").parent(),\n          placeholder: \"--- เลือกขนาดยาง ---\"\n        });\n        $('#findSize').on('select2:select', function (e) {\n          let data = e.params.data;\n          rec.rub_size_no = data.id;\n        });\n      });\n    },\n\n    getCurrentDate() {\n      const currentDate = new Date();\n      const dateNow = `${currentDate.getDate()}/${currentDate.getMonth() + 1}/${currentDate.getFullYear()}`;\n      return dateNow;\n    },\n\n    handleList() {\n      this.showlist = !this.showlist;\n    },\n\n    getRubberSize() {\n      axios.get(`rubbersize/read`).then(response => {\n        this.rubber_size = response.data;\n        console.log(this.rubber_size);\n      });\n    },\n\n    async showModal(e) {\n      let myModal = await new Modal(document.getElementById(e));\n      await myModal.show();\n    },\n\n    async hideModal(e) {\n      await $(`#${e}`).removeClass(\"in\");\n      await $(\".modal-backdrop\").remove();\n      await $(`#${e}`).hide();\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["$","axios","Modal","ref","setup","date","Date","format","d","getDate","m","getMonth","y","getFullYear","data","rubber_size","showlist","imp_header","imp_book_no","imp_no","imp_date","imp_detail","rub_size_no","mounted","methods","onSelect2Size","document","ready","rec","select2","theme","closeOnSelect","width","dropdownParent","parent","placeholder","on","e","params","id","getCurrentDate","currentDate","dateNow","handleList","getRubberSize","get","then","response","console","log","showModal","myModal","getElementById","show","hideModal","removeClass","remove","hide"],"sourceRoot":"","sources":["D:\\Project-vue\\SPR-PROJECT\\main-app-test\\src\\components\\importWork.vue"],"sourcesContent":["// ทำใบรับยางสำหรับการจ้างอัด\r\n<template>\r\n    <!-- Modal เพิ่มรายละเอียดใบรับ -->\r\n    <div class=\"modal fade rounded-3\" id=\"newImportList\" tabindex=\"-1\">\r\n        <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header bg-primary opacity-75\" style=\"color:white ;font-size:20px ;\">\r\n                    รายละเอียดใบรับ\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-4\" style=\"text-align:left;\">\r\n                            <label>ขนาดยาง</label>\r\n                            <input type=\"text\" class=\"form-control\" />\r\n                        </div>\r\n                        <div class=\"col-2\" style=\"text-align:left;\">\r\n                            <label>ยี่ห้อยาง</label>\r\n                            <input type=\"text\" class=\"form-control\" />\r\n                        </div>\r\n                        <div class=\"col-2\" style=\"text-align:left;\">\r\n                            <label>หมายเลขยาง(จากโครง)</label>\r\n                            <input type=\"text\" class=\"form-control\" />\r\n                        </div>\r\n                        <div class=\"col-4\" style=\"text-align:left;\">\r\n                            <label>หมายเหตุ</label>\r\n                            <input type=\"text\" class=\"form-control\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <!-- ปุ่มปิด -->\r\n                    <button type=\"button\" class=\"btn btn-secondary btn-lg\" @click.prevent=\"hideModal('newImportList')\">\r\n                        <font-awesome-icon icon=\"fa-solid fa-ban\" />\r\n                    </button>\r\n                    <!-- ปุ่มบันทึก -->\r\n                    <button id=\"btn\" class=\"btn btn-primary btn-lg\" @click.prevent=\"\">\r\n                        <font-awesome-icon icon=\"fa-solid fa-circle-check\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- End modal -->\r\n    <div class=\"container\" style=\"text-align:center;\">\r\n        <div class=\"card align-content-center rounded-3 shadow\" style=\"max-width:auto;\">\r\n            <div class=\"card-header bg-primary\" style=\"color:white; text-align:center;\">\r\n                ใบรับ\r\n            </div>\r\n            <div class=\"card-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col\" style=\"text-align:left;\">\r\n                        <label>เล่มที่</label>\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"this.imp_header.imp_book_no\" />\r\n                    </div>\r\n                    <div class=\"col\" style=\"text-align:left;\">\r\n                        <label>เลขที่</label>\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"this.imp_header.imp_no\" />\r\n                    </div>\r\n                    <div class=\"col\" style=\"text-align:left;\">\r\n                        <label>วันที่เปิดใบรับ</label>\r\n                        <!-- <input type=\"text\" class=\"form-control\" v-model=\"this.imp_header.imp_date\" /> -->\r\n                        <Datepicker v-model=\"this.imp_header.imp_date\" :format=\"format\" autoApply />\r\n                    </div>\r\n                </div>\r\n                <div class=\"row mt-1\">\r\n                    <div class=\"col\" style=\"text-align:left;\">\r\n                        <label>ชื่อลูกค้า</label>\r\n                        <input type=\"text\" class=\"form-control\" readonly />\r\n                    </div>\r\n                </div>\r\n                <div class=\"row mt-1\">\r\n                    <div class=\"col-8\" style=\"text-align:left;\">\r\n                        <label>ที่อยู่ลูกค้า</label>\r\n                        <input type=\"text\" class=\"form-control\" readonly />\r\n                    </div>\r\n                    <div class=\"col-4\" style=\"text-align:left;\">\r\n                        <label>เบอร์โทร</label>\r\n                        <input type=\"text\" class=\"form-control\" readonly />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"card-footer align-content-center\">\r\n                <button class=\"btn btn-primary rounded-2 me-1\" @click.prevent=\"showModal('newImportList')\">\r\n                    <font-awesome-icon icon=\"fa-solid fa-cart-plus\" />&nbsp;เพิ่มข้อมูล\r\n                </button>\r\n                <button class=\"btn btn-success rounded-2 ms-1\">\r\n                    <font-awesome-icon icon=\"fa-solid fa-check-to-slot\" />&nbsp;ยืนยันใบรับ\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- {{ this.imp_header }} -->\r\n    <div class=\"container\">\r\n        <div class=\"card align-content-center rounded-3 shadow mt-2\" style=\"max-width:auto;\">\r\n            <div class=\"card-header bg-primary\" style=\"color:white ;text-align:center\">รายละเอียดใบรับ</div>\r\n            <div class=\"card-body\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\"\r\nimport axios from \"@/axios\"\r\nimport { Modal } from \"bootstrap\"\r\nimport { ref } from \"vue\"\r\n\r\nexport default {\r\n    setup() {\r\n        const date = ref(new Date());\r\n        const format = (date) => {\r\n            const d = date.getDate();\r\n            const m = date.getMonth() + 1;\r\n            const y = date.getFullYear();\r\n            return `${d}/${m}/${y}`;\r\n        }\r\n        return {\r\n            date, format\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            rubber_size: [],\r\n            showlist: false,\r\n            imp_header: {\r\n                imp_book_no: \"\",\r\n                imp_no: \"\",\r\n                imp_date: \"\",\r\n            },\r\n            imp_detail: {\r\n                rub_size_no: \"\",\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    methods: {\r\n        onSelect2Size() {\r\n            $(document).ready(() => {\r\n                let rec = this.imp_detail;\r\n                $('#findSize').select2({\r\n                    theme: \"bootstrap-5\",\r\n                    closeOnSelect: true,\r\n                    width: '100%',\r\n                    dropdownParent: $(\"#findSize\").parent(),\r\n                    placeholder: \"--- เลือกขนาดยาง ---\",\r\n                });\r\n                $('#findSize').on('select2:select', function (e) {\r\n                    let data = e.params.data;\r\n                    rec.rub_size_no = data.id;\r\n                })\r\n            });\r\n        },\r\n        getCurrentDate() {\r\n            const currentDate = new Date();\r\n            const dateNow = `${currentDate.getDate()}/${currentDate.getMonth() + 1}/${currentDate.getFullYear()}`\r\n            return dateNow;\r\n        },\r\n        handleList() {\r\n            this.showlist = !this.showlist\r\n        },\r\n        getRubberSize() {\r\n            axios.get(`rubbersize/read`).then((response) => {\r\n                this.rubber_size = response.data;\r\n                console.log(this.rubber_size);\r\n            });\r\n        },\r\n        async showModal(e) {\r\n            let myModal = await new Modal(document.getElementById(e))\r\n            await myModal.show()\r\n        },\r\n        async hideModal(e) {\r\n            await $(`#${e}`).removeClass(\"in\");\r\n            await $(\".modal-backdrop\").remove();\r\n            await $(`#${e}`).hide();\r\n        },\r\n    },\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}