{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-floating mb-2 mt-2\"\n};\nconst _hoisted_2 = [\"value\"];\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"floatingSelect\"\n}, \"ขนาดยาง\", -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select\",\n    id: \"findSize\",\n    \"aria-label\": \"Floating label select example\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => this.fixCostData_edit.rub_size_no = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.rubber_size, rubberSize => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: rubberSize.id,\n      value: rubberSize.id\n    }, _toDisplayString(rubberSize.rub_size_id) + \" > \" + _toDisplayString(rubberSize.rub_size_detail), 9\n    /* TEXT, PROPS */\n    , _hoisted_2);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, this.fixCostData_edit.rub_size_no]]), _hoisted_3]), _createCommentVNode(\" สิ้นสุดการแสดงข้อมูล \")], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;EACUA,KAAK,EAAC;;;;gCAONC,oBAA2C,OAA3C,EAA2C;EAApCC,GAAG,EAAC;AAAgC,CAA3C,EAA4B,SAA5B,EAAmC;AAAA;AAAnC;;;6DAPLD,oBAQM,KARN,cAQM,iBAPDA,oBAKS,QALT,EAKS;IALDD,KAAK,EAAC,aAKL;IALmBG,EAAE,EAAC,UAKtB;IALiC,cAAW,+BAK5C;oEAJUC,iBAAiBC,cAAWC;EAItC,CALT,sBAEKC,oBAESC,SAFT,EAES,IAFT,EAESC,YAFoBC,iBAEpB,EAFMC,UAAyB,IAAf;yBAAzBJ,oBAES,QAFT,EAES;MAFkCK,GAAG,EAAED,UAAU,CAACR,EAElD;MAFuDU,KAAK,EAAEF,UAAU,CAACR;IAEzE,CAFT,mBACQQ,UAAU,CAACG,eAAc,QAAGC,iBAAGJ,UAAU,CAACK,eAAd,CADpC,EACiE;IAAA;IADjE,EACiEC,UADjE;GAES,CAFT;;EAAA,GAFL;;EAAA,yBACmBb,iBAAiBC,cAMnC,EADDa,UACC,CARN,GAWAC","names":["class","_createElementVNode","for","id","fixCostData_edit","rub_size_no","$event","_createElementBlock","_Fragment","_renderList","$data","rubberSize","key","value","rub_size_id","_toDisplayString","rub_size_detail","_hoisted_2","_hoisted_3","_createCommentVNode"],"sourceRoot":"","sources":["D:\\Project-vue\\SPR-PROJECT\\main-app-test\\src\\components\\productFixcost.vue"],"sourcesContent":["<template>\r\n     <div class=\"form-floating mb-2 mt-2\">\r\n          <select class=\"form-select\" id=\"findSize\" aria-label=\"Floating label select example\"\r\n               v-model=\"this.fixCostData_edit.rub_size_no\">\r\n               <option v-for=\"rubberSize in rubber_size\" :key=\"rubberSize.id\" :value=\"rubberSize.id\">\r\n                    {{ rubberSize.rub_size_id }} > {{ rubberSize.rub_size_detail }}\r\n               </option>\r\n          </select>\r\n          <label for=\"floatingSelect\">ขนาดยาง</label>\r\n     </div>\r\n     \r\n\r\n     <!-- สิ้นสุดการแสดงข้อมูล -->\r\n</template>\r\n\r\n<script>\r\nimport axios from \"@/axios\";\r\nimport $ from \"jquery\";\r\nimport { Modal } from \"bootstrap\";\r\n// import autocomplete from \"vue-autocomplete-input-tag\"\r\n\r\nexport default {\r\n     name: \"FixCost\",\r\n     components: {\r\n          // autocomplete\r\n     },\r\n     data() {\r\n          return {\r\n               product_detail: [],\r\n               pro_price_row: [],\r\n               rubber_size: [],\r\n               rubber_style: [],\r\n               rubber_grade: [],\r\n               fixCostData: {\r\n                    no: \"\",\r\n                    pro_type_no: \"\", // link to product_type.pro_type_no\r\n                    pro_de_no: \"\", // link to product_detail.pro_de_no\r\n                    rub_size_no: \"\",\r\n                    rub_style_no: \"\",\r\n                    rub_grade_no: \"\",\r\n                    price1: \"\",\r\n                    price2: \"\",\r\n               },\r\n               fixCostData_edit: {\r\n                    no: \"\",\r\n                    pro_type_no: \"\", // link to product_type.pro_type_no\r\n                    pro_de_no: \"\", // link to product_detail.pro_de_no\r\n                    rub_size_no: \"\",\r\n                    rub_style_no: \"\",\r\n                    rub_grade_no: \"\",\r\n                    price1: \"\",\r\n                    price2: \"\",\r\n               },\r\n          };\r\n     },\r\n     beforeUnmount() {\r\n          sessionStorage.clear();\r\n     },\r\n     created() {\r\n          $(document).ready(() => {\r\n               $('#findSize').select2({\r\n                    closeOnSelect: false,\r\n                    width: '100%',\r\n                    height: '15px',\r\n               });\r\n          });\r\n     },\r\n     mounted() {\r\n          this.loadDefaultData();\r\n     },\r\n     methods: {\r\n          myChangeEvent(val) {\r\n               console.log(val);\r\n          },\r\n          mySelectEvent({ id, text }) {\r\n               console.log({ id, text });\r\n          },\r\n          loadDefaultData() {\r\n               this.getRubberSize();\r\n               this.getRubberStyle();\r\n               this.getRubbergrade();\r\n               this.getProductCost();\r\n          },\r\n          async newFixCost() {\r\n               if (confirm(\"ยืนยันการบันทึกข้อมูล ?\") == true) {\r\n                    await axios\r\n                         .post(`productcost/new`, this.fixCostData)\r\n                         .then(() => {\r\n                              this.fixCostData = {\r\n                                   no: \"\",\r\n                                   pro_type_no: \"\",\r\n                                   pro_de_no: \"\",\r\n                                   rub_brand_no: \"\",\r\n                                   rub_size_no: \"\",\r\n                                   rub_style_no: \"\",\r\n                                   rub_grade_no: \"\",\r\n                                   price1: \"\",\r\n                                   price2: \"\",\r\n                              };\r\n                              this.hideModal(\"fixCost\");\r\n                              $(\"#showproductcost\").DataTable().destroy(); //--- ทำลาย Datatable\r\n                              this.getProductCost();\r\n                              console.log(\"Process success!\");\r\n                         })\r\n                         .catch((error) => {\r\n                              console.log(error);\r\n                         });\r\n               }\r\n          },\r\n          getFixCost(val) {\r\n               this.getProductDetail(val.pro_type_no);\r\n               this.fixCostData_edit.no = val.no;\r\n               this.fixCostData_edit.pro_type_no = val.pro_type_no;\r\n               this.fixCostData_edit.pro_de_no = val.pro_de_no;\r\n               this.fixCostData_edit.rub_brand_no = val.rub_brand_no;\r\n               this.fixCostData_edit.rub_size_no = val.rub_size_no;\r\n               this.fixCostData_edit.rub_style_no = val.rub_style_no;\r\n               this.fixCostData_edit.rub_grade_no = val.rub_grade_no;\r\n               this.fixCostData_edit.price1 = val.price1;\r\n               this.fixCostData_edit.price2 = val.price2;\r\n               this.showModal(\"editfixCost\");\r\n          },\r\n          async editFixCost() {\r\n               if (confirm(\"ยืนยันการเปลี่ยนแปลงข้อมูล ?\") == true) {\r\n                    await axios.post(`productcost/update`, this.fixCostData_edit).then(() => {\r\n                         this.fixCostData_edit = {\r\n                              no: \"\",\r\n                              pro_type_no: \"\",\r\n                              pro_de_no: \"\",\r\n                              rub_brand_no: \"\",\r\n                              rub_size_no: \"\",\r\n                              rub_style_no: \"\",\r\n                              rub_grade_no: \"\",\r\n                              price1: \"\",\r\n                              price2: \"\",\r\n                         };\r\n                         this.hideModal(\"editfixCost\");\r\n                         $(\"#showproductcost\").DataTable().destroy(); //--- ทำลาย Datatable\r\n                         this.getProductCost();\r\n                    });\r\n               }\r\n          },\r\n          getProductCost() {\r\n               axios.get(`productcost/read`).then((response) => {\r\n                    this.pro_price_row = response.data;\r\n                    console.log(response.data);\r\n                    $(document).ready(function () {\r\n                         $(\"#showproductcost\").DataTable({\r\n                              bJQueryUI: true,\r\n                              sPaginationType: \"full_numbers\",\r\n                              language: {\r\n                                   decimal: \"\",\r\n                                   emptyTable: \"ไม่พบการข้อมูลจากฐานข้อมูล\",\r\n                                   info: \"พบข้อมูล _TOTAL_ เรคอร์ด\",\r\n                                   // \"info\": \"แสดง _START_ - _END_ แถว จากทั้งหมด _TOTAL_ แถว\",\r\n                                   infoEmpty: \"ไม่พบข้อมูลที่ค้นหา\",\r\n                                   infoFiltered: \"(จากข้อมูลทั้งหมด _MAX_ เรคอร์ด)\",\r\n                                   infoPostFix: \"\",\r\n                                   thousands: \",\",\r\n                                   lengthMenu: \"แสดงครั้งละ _MENU_ เรคอร์ด\",\r\n                                   loadingRecords: \"Loading...\",\r\n                                   processing: \"\",\r\n                                   search: \"ค้นหาข้อมูล:\",\r\n                                   zeroRecords: \"ไม่พบข้อมูลที่ค้นหา\",\r\n                                   paginate: {\r\n                                        first: \"หน้าแรก\",\r\n                                        last: \"หน้าสุดท้าย\",\r\n                                        next: \"ต่อไป\",\r\n                                        previous: \"ย้อนกลับ\",\r\n                                   },\r\n                                   aria: {\r\n                                        sortAscending: \": activate to sort column ascending\",\r\n                                        sortDescending: \": activate to sort column descending\",\r\n                                   },\r\n                              },\r\n                         });\r\n                    });\r\n               });\r\n          },\r\n          getProductDetail(val) {\r\n               axios.get(`productdetail/search/${val}`).then((response) => {\r\n                    this.product_detail = response.data;\r\n               });\r\n          },\r\n          getRubberSize() {\r\n               axios.get(`rubbersize/read`).then((response) => {\r\n                    this.rubber_size = response.data;\r\n                    console.log(this.rubber_size);\r\n               });\r\n          },\r\n          getRubberStyle() {\r\n               axios.get(`rubberstyle/read`).then((response) => {\r\n                    this.rubber_style = response.data;\r\n               });\r\n          },\r\n          getRubbergrade() {\r\n               axios.get(`rubbergrade/read`).then((response) => {\r\n                    this.rubber_grade = response.data;\r\n               });\r\n          },\r\n          async showModal(e) {\r\n               let myModal = await new Modal(document.getElementById(e));\r\n               await myModal.show();\r\n          },\r\n          async hideModal(e) {\r\n               await $(`#${e}`).removeClass(\"in\");\r\n               await $(\".modal-backdrop\").remove();\r\n               await $(`#${e}`).hide();\r\n          },\r\n          numFormat(e) {\r\n               const nf = new Intl.NumberFormat(\"th-TH\", {\r\n                    style: \"currency\",\r\n                    currency: \"THB\",\r\n                    maximumFractionDigits: 2,\r\n               }).format(e);\r\n               return nf;\r\n          },\r\n     },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}